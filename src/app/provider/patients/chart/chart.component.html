<div class="chart-wrapper">
  <div class="controls-container">
    <div class="row controls">
      <div class="col-xl-6 col-lg-5 col-md-12 col-12">
        <div class="row">
          <div class="pull-left col-xl-2 col-lg-3 col-md-3 col-12">
            <div class="dropdown">
              <a class="btn btn-go-to dropdown-toggle" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown"
                aria-expanded="false" data-bs-auto-close="outside">
                <span>Go to...</span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
                <li>
                  <ul class="go-to-nav">
                    <li>
                      <a>Diagnoses (Dx)</a>
                    </li>
                    <li><a>Smoking Status</a></li>
                    <li><a>Past Medical History</a></li>
                    <li><a>Advanced Directives</a></li>
                  </ul>
                  <ul class="go-to-nav">
                    <li><a>Allergies</a></li>
                    <li><a>Medications (Rx)</a></li>
                    <li><a>Immunizations</a></li>
                    <li><a>Screenings/Interventions/<br>Assessments</a></li>
                  </ul>
                  <ul class="go-to-nav">
                    <li><a>Encounters</a></li>
                    <li><a>Messages</a></li>
                    <li><a>Appointments</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
          <div
            class="input-group new-search-group chart-patient-new-search-group col-xl-10 col-lg-9 col-md-9 col-12 mt-2 mt-md-0">
            <div class="new-search-input">
              <input type="text" name="chart_find_patient" id="chart_find_patient"
                class="new-search form-control ignore_spinner" placeholder="Search Patients..." />
              <span class="input-group-addon input-group-addon-search chart-find-patient-btn"></span>
            </div>
          </div>
        </div>
      </div>
      <div class="pull-right col-xl-6 col-lg-7 col-md-12 col-12">
        <div class="row pull-right" style="padding-right: 13px;">
          <a class="btn btn-green col-lg-4 col-md-4 col-12 mt-2 mt-lg-0" id="check-alerts">Check CDS Alerts</a>
          <a class="btn btn-green col-lg-4 col-md-4 col-12 mt-2 mt-lg-0">Refresh Chart</a>
          <a class="btn btn-orange col-md-4 col-12 mt-2 mt-lg-0"
            (click)="openComponentDialog(encounterDialogComponent,null,ActionTypes.new)">New
            encounter note
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="chart-tab-content">
    <div class="patientChartTab">
      <div class="content">
        <div class="row">
          <div class="col-lg-4 col-4">
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title" data-bs-toggle="modal" data-bs-target="#used-diagnoses-modal">Diagnoses (Dx)
                    </p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right" data-bs-toggle="modal"
                      data-bs-target="#used-diagnoses-modal" (click)="resetDialog()">
                      <span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let diagnose of chartInfo?.Diagnoses">
                  <li>
                    <a data-bs-toggle="modal" data-bs-target="#create-diagnoses-modal"
                      (click)="editDialog(diagnose, 'diagnosis')">
                      <span *ngIf="diagnose?.Code != null && diagnose?.Code !=''">
                        - {{diagnose?.Code}}
                      </span>
                      <span *ngIf="diagnose?.Note != null && diagnose?.Note !=''">
                        - {{diagnose?.Note}}
                      </span>
                    </a>
                  </li>
                  <li style="margin-left: 20px;">
                    <span *ngIf="diagnose?.StartAt != null && diagnose?.StartAt !=''">
                      {{diagnose?.StartAt | date: 'MM/dd/yyyy'}}
                    </span>
                    <span *ngIf="diagnose?.StopAt != null && diagnose?.StopAt !=''">
                      - {{diagnose?.StopAt | date: 'MM/dd/yyyy'}}
                    </span>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.Diagnoses?.length == 0">
                  <li>
                    <span>No active Dx recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-12">
                    <p class="card-title">
                      <span (click)="openComponentDialog(smokingStatusDialogComponent, null, ActionTypes.add)">Smoking
                        Status</span>
                      <span style="cursor:auto;"> and </span>
                      <span data-bs-toggle="modal" data-bs-target="#tobacco-use-modal">Tobacco Use</span>
                    </p>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let smoking of chartInfo?.SmokingStatuses">
                  <li>
                    <a (click)="openComponentDialog(smokingStatusDialogComponent, smoking, ActionTypes.view)">
                      <span *ngIf="smoking?.EffectiveFrom != null && smoking?.EffectiveFrom !=''">
                        - {{smoking?.EffectiveFrom | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="smoking?.Status != null && smoking?.Status !=''">
                        - {{smoking?.Status}}
                      </span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.SmokingStatuses?.length == 0">
                  <li>
                    <span>No smoking status recorded.</span>
                  </li>
                </ul>
                <ul class="main-list" *ngFor="let screening of chartInfo?.TobaccoUseScreenings">
                  <li>
                    <a>
                      <span *ngIf="screening?.date_performed != null && screening?.date_performed !=''">
                        - {{screening?.date_performed | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="screening?.description != null && screening?.description !=''">
                        - {{screening?.description}}
                      </span>
                      <span *ngIf="screening?.code != null && screening?.code !=''">
                        / {{screening?.code}}
                      </span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list" *ngFor="let interventions of chartInfo?.TobaccoUseInterventions">
                  <li>
                    <a>
                      <span
                        *ngIf="interventions?.cessation_intervention_date != null && interventions?.cessation_intervention_date !=''">
                        - {{interventions.cessation_intervention_date | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="interventions?.description != null && interventions?.description !=''">
                        - {{interventions.description}}
                      </span>
                      <span *ngIf="interventions?.code != null && interventions?.code !=''">
                        / {{interventions.code}}
                      </span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list"
                  *ngIf="chartInfo?.TobaccoUseScreenings?.length == 0 && chartInfo?.TobaccoUseInterventions?.length == 0">
                  <li>
                    <span>No tobacco use recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title" data-bs-toggle="modal" data-bs-target="#pastmedical-modal"
                      (click)="editDialog(chartInfo?.PastMedicalHistories?.length == 0 ? {} : chartInfo?.PastMedicalHistories[0], 'past medical history')">
                      Past Medical
                      History
                    </p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12">
                      <div class="edit-icon pull-right" data-bs-toggle="modal" data-bs-target="#pastmedical-modal"
                        (click)="editDialog(chartInfo?.PastMedicalHistories?.length == 0 ? {} : chartInfo?.PastMedicalHistories[0], 'past medical history')">
                        <span class="cstm-icon-pencil"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let pastmedical of chartInfo?.PastMedicalHistories">
                  <li>
                    <a data-bs-toggle="modal" data-bs-target="#pastmedical-modal"
                      (click)="editDialog(pastmedical, 'past medical history')">
                      <span *ngIf="pastmedical?.CreatedAt != null && pastmedical?.CreatedAt !=''">
                        - {{pastmedical?.CreatedAt | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="pastmedical?.MajorEvents != null && pastmedical?.MajorEvents !=''">
                        - {{pastmedical?.MajorEvents}}
                      </span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.PastMedicalHistories?.length == 0">
                  <li>
                    <span>No past medical history recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title">Advanced Directives</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right"
                      (click)="openComponentDialog(advancedDirectivesDialogComponent, null, ActionTypes.add)">
                      <span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let directive of chartInfo?.AdvancedDirectives">
                  <li>
                    <a (click)="openComponentDialog(advancedDirectivesDialogComponent, directive, ActionTypes.view)">
                      <span *ngIf="directive?.RecordAt != null && directive?.RecordAt !=''">
                        - {{directive?.RecordAt | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="directive?.Notes != null && directive?.Notes !=''">
                        - {{directive?.Notes}}
                      </span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.AdvancedDirectives?.length == 0">
                  <li>
                    <span>No advanced directives recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-4">
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title" data-bs-toggle="modal" data-bs-target="#allergies-modal">Allergies</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right"
                      (click)="openComponentDialog(allergyDialogComponent,null,ActionTypes.add)">
                      <span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let allergie of chartInfo?.Alergies">
                  <li>
                    <a (click)="openComponentDialog(allergyDialogComponent,allergie,ActionTypes.view)">
                      <span>- {{allergie?.Note}}</span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.Alergies?.length == 0">
                  <li>
                    <span>No active allergies recorded</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title" data-bs-toggle="modal" data-bs-target="#medication-prescription-modal">
                      Medications and Prescription
                    </p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right"
                      (click)="openComponentDialog(medicationDialogComponent,null,ActionTypes.add)">
                      <span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let medication of chartInfo?.Medications">
                  <li>
                    <a (click)="openComponentDialog(medicationDialogComponent, medication , ActionTypes.view)">
                      <span>
                        - {{medication?.DrugName}}
                      </span>
                    </a>
                  </li>
                  <li style="margin-left: 20px;">
                    <span *ngIf="medication?.start_at != null && medication?.start_at !=''">
                      - {{medication?.start_at | date: 'MM/dd/yyyy'}}
                    </span>
                    <span *ngIf="medication?.stop_at != null && medication?.stop_at !=''">
                      - {{medication?.stop_at | date: 'MM/dd/yyyy'}}
                    </span>
                    <span *ngIf="medication?.cqm_status != null && medication?.cqm_status !=''">
                      - {{medication?.cqm_status}}
                    </span>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.Medications?.length == 0">
                  <li>
                    <span>No medications recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title" data-bs-toggle="modal" data-bs-target="#immunization-table-modal">
                      Immunizations</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right" data-bs-toggle="modal" data-bs-target="#immunization-modal">
                      <span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let immunization of chartInfo?.Immunizations">
                  <li>
                    <a data-bs-toggle="modal" data-bs-target="#immunization-modal"
                      (click)="editDialog(immunization, 'immunization')">
                      <span *ngIf="immunization?.Code != null && immunization?.Code !=''">
                        - {{immunization?.Code}}
                      </span>
                      <span *ngIf="immunization?.Description != null && immunization?.Description !=''">
                        - {{immunization?.Description}}
                      </span>
                    </a>
                  </li>
                  <li style="margin-left: 20px;">
                    <span *ngIf="immunization?.AdministeredAt != null && immunization?.AdministeredAt !=''">
                      {{immunization?.AdministeredAt | date: 'MM/dd/yyyy'}}
                    </span>
                    <span *ngIf="immunization?.ExpirationAt != null && immunization?.ExpirationAt !=''">
                      - {{immunization?.ExpirationAt | date: 'MM/dd/yyyy'}}
                    </span>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo?.Immunizations?.length == 0">
                  <li>
                    <span>No immunizations recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title">Screenings/Interventions/Assessments</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right"
                      (click)="openComponentDialog(interventionDialogComponent, null)">
                      <span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list">
                  <li>
                    <span></span>
                  </li>
                </ul>
                <a class="view-more">view more</a>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-4">
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title">Encounters</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon plusicon-orange pull-right"
                      (click)="openComponentDialog(encounterDialogComponent,null,ActionTypes.new)"><span><i
                          class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let encounter of chartInfo.Encounters">
                  <li>
                    <a (click)="openComponentDialog(encounterDialogComponent,encounter,ActionTypes.new)">
                      <span *ngIf="encounter?.ServicedAt != null && encounter?.ServicedAt !=''">
                        - {{encounter?.ServicedAt | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="encounter?.ServiceEndAt != null && encounter?.ServiceEndAt !=''">
                        - {{encounter?.ServiceEndAt | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="encounter?.VisitingReason != null && encounter?.VisitingReason !=''">
                        - {{encounter?.VisitingReason}}
                      </span>
                    </a>
                    <div style="float: right;" *ngIf="encounter.Signed">
                      <div mat-icon-button class="folder-node">
                        <i class="fa fa-plus icons-design"></i>
                      </div>
                    </div>
                  </li>
                </ul>
                <ul class="main-list" *ngIf="chartInfo.Encounters?.length == (0 || null || undefined)">
                  <li>
                    <span>No encounters recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title">Messages</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right"><span><i class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list">
                  <li>
                    <span></span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-8 col-6">
                    <p class="card-title">Appointments</p>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="col-12 plusicon pull-right"
                      (click)="openComponentDialog(appointmentDialogComponent ,null,ActionTypes.new)"><span><i
                          class="fa fa-plus"></i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <ul class="main-list" *ngFor="let appointment of appointments">
                  <li>
                    <a>
                      <span *ngIf="appointment?.start_at != null && appointment?.start_at !=''">
                        - {{appointment?.start_at | date: 'MM/dd/yyyy'}}
                      </span>
                      <span *ngIf="appointment?.appt_status != null && appointment?.appt_status !=''">
                        - {{appointment?.appt_status}}
                      </span>
                    </a>
                  </li>
                </ul>
                <ul class="main-list">
                  <li *ngIf="appointments?.length == (0 || null || undefined)">
                    <span>No appointments recorded.</span>
                  </li>
                </ul>
              </div>
            </div>
            <a class="patient-chart" href="https://dentaltraumaguide.org/dental-guides/" target="_blank">Clinical
              Decision
              Support</a>
            <br>
            <a class="patient-chart" href="https://accessgudid.nlm.nih.gov/" target="_blank">Implantable Devices</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Frequently Used Diagnosis -->
<div class="modal fade" id="used-diagnoses-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-maxHeight">
    <div class="modal-content body">
      <div class="modal-header header">
        <div class="col-md-4 col-6">
          <h4 class="Helvetica-sans-serif-medium ">Frequently Used Dx</h4>
        </div>
        <div class="col-md-8 col-6 row-head">
          <h4 class="Helvetica-sans-serif-medium mx-1">Record Diagnosis Dx</h4>
        </div>
      </div>
      <div class="body">
        <div class="row" style="padding: 0px 12px;">
          <div class="freq-used-list col-sm-4 col-md-4 col-lg-4 my-2">
            <ul *ngFor="let diagnose of chartInfo?.Diagnoses" data-bs-toggle="modal"
              data-bs-target="#create-diagnoses-modal" (click)="editDialog(diagnose, 'diagnosis')">
              <li>
                <a>
                  <span class="px-3" *ngIf="diagnose?.Note != null && diagnose?.Note !=''">
                    {{diagnose?.Note}}
                  </span>
                </a>
              </li>
            </ul>
          </div>
          <div class="col-sm-8 col-md-8 col-lg-8 side-boder">
            <mat-form-field appearance="outline" class="input-field input-bg w-100 mt-3 ">
              <mat-select required placeholder="Please select one">
                <mat-option *ngFor="let code of DxCodes" [value]="code">
                  {{code}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <div class="input-group input-group-custom ">
              <input aria-label="Search for messages" autocomplete="off" class="form-control input-border"
                id="find-messages-input-1" placeholder="Search Messages" />
              <span class="input-group-addon input-group-addon-right input-group-addon-search Search"
                id="find-messages-button-1"><i class="fa fa-search"></i></span>
            </div>
            <div class="row mt-3 mb-3">
              <div class="col-md-8 col-8">
                <button class="btn btn-green" data-bs-toggle="modal" data-bs-target="#create-diagnoses-modal">Add
                  Custom Dx</button>
              </div>
              <div class="col-md-4 col-4">
                <button class="btn btn-green btn-custom pull-right" data-bs-dismiss="modal"
                  aria-label="Close">Cancel</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Create diagnoses -->
<div class="modal fade" id="create-diagnoses-modal" tabindex="-1" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-maxHeight">
    <div class="modal-content body">
      <div class="modal-header header">
        <div class="col-sm-3 mx-2">
          <h4 class="Helvetica-sans-serif-medium ">Diagnosis (Dx)</h4>
        </div>
        <div class="col-sm-7 row-head">
          <h4 class="Helvetica-sans-serif-medium mx-1">Record Diagnosis(Dx)</h4>
        </div>
        <div>
          <span type="button" class="cross-mark" data-bs-dismiss="modal" aria-label="Close">
            x
          </span>
        </div>
      </div>
      <div class="body">
        <div class="row" style="padding: 0px 12px;">
          <div class="col-sm-4">
          </div>
          <div class="col-sm-8 side-boder">
            <mat-form-field appearance="outline" class=" mt-3 w-100">
              <mat-select required placeholder="Please select one" [(ngModel)]="patientDiagnoses.CodeSystem">
                <mat-option *ngFor="let code of DxCodes" [value]="code">
                  {{code}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <label>Code</label>
            <mat-form-field class="w-100" appearance="outline">
              <input matInput placeholder="Code" name="Code" [(ngModel)]="patientDiagnoses.Code" />
            </mat-form-field>
            <label>Descrption</label>
            <mat-form-field class="w-100" appearance="outline">
              <input matInput placeholder="Descrption" [(ngModel)]="patientDiagnoses.Description" />
            </mat-form-field>
            <div class="row">
              <label>Start Date</label>
              <mat-form-field appearance="outline" class="green-calendar cstm-calendar col-md-8">
                <input matInput class="pointer" [matDatepicker]="startdate" (click)="startdate.open()" readonly
                  placeholder="Start Date" name="startdate" [(ngModel)]="patientDiagnoses.StartAt" />
                <mat-datepicker-toggle matSuffix [for]="startdate">
                </mat-datepicker-toggle>
                <mat-datepicker #startdate></mat-datepicker>
              </mat-form-field>
              <div class="col-lg-4">
                <button class="btn btn-green btn-today pull-right" (click)="todayStartAt()">Today</button>
              </div>
            </div>
            <div class="row">
              <label>End Date</label>
              <mat-form-field appearance="outline" class="green-calendar cstm-calendar col-md-8">
                <input matInput class="pointer" [matDatepicker]="enddate" placeholder="End Date" name="enddate"
                  (click)="enddate.open()" readonly [(ngModel)]="patientDiagnoses.StopAt" />
                <mat-datepicker-toggle matSuffix [for]="enddate">
                </mat-datepicker-toggle>
                <mat-datepicker #enddate></mat-datepicker>
              </mat-form-field>
              <div class="col-lg-4">
                <button class="btn btn-green btn-today pull-right" (click)="todayStopAt()">Today</button>
              </div>
            </div>
            <label>Diagnosis Notes:</label>
            <textarea placeholder="Diagnosis Notes:" class="form-control col-12 mt-3 mt-md-0"
              [(ngModel)]="patientDiagnoses.Note"></textarea>
            <div class="row links">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p>Resources:</p>
              </div>
            </div>
            <div class="right-block">
              <button class="btn btn-green btn-cancel pull-right" data-bs-dismiss="modal" aria-label="Close"
                (click)="resetDialog()">
                Cancel</button>
              <button class="btn btn-green btn-cancel mx-3 mb-3 pull-right" data-bs-toggle="modal"
                data-bs-target="#create-diagnoses-modal" [disabled]="disableDiagnosis()"
                (click)="CreateDiagnoses()">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Past medical history -->
<div class="modal fade " id="pastmedical-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-md" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">Record Past Medical History</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal" (click)="resetDialog()">
          X
        </span>
      </div>
      <div class="modal-body bg-white scroolbar addlocationbody">
        <div class="col-md-12">
          <label class="required">Major Events:</label>
          <textarea class="form-control col-12 mt-3 mt-md-0"
            [(ngModel)]="patientPastMedicalHistory.MajorEvents"></textarea>
        </div>
        <div class="col-md-12">
          <label class="required">Ongoing Medical Problems:</label>
          <textarea class="form-control col-12 mt-3 mt-md-0"
            [(ngModel)]="patientPastMedicalHistory.OngoingProblems"></textarea>
        </div>
        <div class="col-md-12">
          <div class="row card-bg mt-2">
            <div class="col-md-8 col-6">
              <p class="card-title title">Family Health History:</p>
            </div>
            <div class="col-md-4 col-6">
              <div class="col-12 plusicon plus-icons pull-right"><span><i class="fa fa-plus" data-bs-toggle="modal"
                    data-bs-target="#familyhealth-modal"></i></span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 mt-1">
          <label class="required">Preventative Care:</label>
          <textarea class="form-control col-12 mt-3 mt-md-0"
            [(ngModel)]="patientPastMedicalHistory.PerventiveCare"></textarea>
        </div>
        <div class="col-md-12">
          <label class="required">Nutrition History:</label>
          <textarea class="form-control col-12 mt-3 mt-md-0"
            [(ngModel)]="patientPastMedicalHistory.NutritionHistory"></textarea>
        </div>
      </div>
      <div class="row mb-3 mt-1 mx-3">
        <div class="col-md-12 locationbtns">
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-lg btn-green col-xl-4 col-lg-4 col-md-4 col-8 mx-2"
              data-bs-dismiss="modal" [disabled]="disablePastMedicalHistory()" (click)="CreatePastMedicalHistories()">
              Save Changes
            </button>
            <button type="button" class="btn btn-lg btn-green col-xl-3 col-lg-3 col-md-3 col-5 mx-3"
              data-bs-dismiss="modal" (click)="resetDialog()">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Family healthy history -->
<div class="modal fade " id="familyhealth-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-md" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">Add Family Health History</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="scroolbar">
        <div class="modal-body  colour-bg">
          <div class="row">
            <div class="col-lg-2 col-md-2 left-block">
              <div class="form-group">
                <p class="title-bold">Relative</p>
              </div>
              <div class="relative-icon">
              </div>
            </div>
            <div class="col-lg-10 col-md-10 ">
              <div class="row">
                <div class=" form-group col-lg-5 col-md-5">
                  <label>First Name</label>
                  <mat-form-field class="w-100" appearance="outline">
                    <input matInput placeholder="First Name" />
                  </mat-form-field>
                </div>
                <div class="form-group col-lg-7 col-md-7">
                  <label>Last Name</label>
                  <mat-form-field class="w-100" appearance="outline">
                    <input matInput placeholder="Last Name" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-md-4 float-left">
                  <label class="title-bold">Relationship</label>
                </div>
                <div class="col-md-8">
                  <mat-form-field appearance="outline">
                    <mat-select required>
                      <mat-option *ngFor="let trigger of TriggerRuleDD" [value]="trigger.value">
                        {{trigger.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>

              </div>
              <div class="row">
                <div class="col-md-2">
                  <label class="title-bold">Birthdate</label>
                </div>
                <div class="col-md-6">
                  <mat-form-field class="form-group" appearance="outline">
                    <input matInput [matDatepicker]="picker2" (click)="picker2.open()" />
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-md-4 ">
                  <mat-checkbox class="col-lg-12 col-md-12 example-margin">
                    <div class="checkbox-label">Deceased</div>
                  </mat-checkbox>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-body">
          <div class="row">
            <p class="title-bold">Diagnosis</p>
          </div>
          <div>
            <ul class="diagnosis_list">
              <li>
                <p>-no existing Dx(s)</p>
              </li>
            </ul>
          </div>
          <div>
            <div class="col-md-12 mt-3 accordion">
              <div class="accordion-button collapsed panel-collapse" data-bs-toggle="collapse"
                data-bs-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample1">
                <p class="collaps-title">Add (Dx)</p>
              </div>
            </div>
            <div class="collapse" id="collapseExample1">
              <div class="panel-expand">
                <div class="panel-body">
                  <div class="row">
                    <div class="input-group input-group-custom search-input">
                      <input aria-label="Search for messages" autocomplete="off"
                        class="new-search form-control ignore_spinner" id="find-messages-input-2"
                        placeholder="Search Messages" />
                      <span class="input-group-addon input-group-addon-search chart-find-patient-btn"
                        id="find-messages-button-2"><i class="fa fa-search"></i></span>
                    </div>
                    <div class="row mt-3">
                      <div class="col-md-4 ">
                        <label class="title-bold">
                          Start Date
                        </label>
                      </div>
                      <div class="col-md-5">
                        <mat-form-field class="form-group" appearance="outline">
                          <input matInput [matDatepicker]="picker" (click)="picker.open()" />
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                      </div>
                      <div class="col-md-2">
                        <button class="btn btn-green btn-add " [disabled]="true">Add Dx</button>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-md-4 ">
                        <label class="title-bold">
                          Stop Date
                        </label>
                      </div>
                      <div class="col-md-5">
                        <mat-form-field class="form-group" appearance="outline">
                          <input matInput [matDatepicker]="picker1" (click)="picker1.open()" />
                          <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                      </div>
                      <div class="col-md-2">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12 mt-3">
            <label>Notes:</label>
            <textarea class="form-control col-12 mt-3 mt-md-0"></textarea>
          </div>
        </div>
      </div>
      <div class="row mb-3 mt-3 mx-3">
        <div class="col-md-12 locationbtns">
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-lg btn-green col-xl-4 col-lg-4 col-md-4 col-8 mx-2"
              data-bs-toggle="modal" data-bs-target="#pastmedical-modal">
              Add
            </button>
            <button type="button" class="btn btn-lg btn-green col-xl-3 col-lg-3 col-md-3 col-5 mx-3"
              data-bs-dismiss="modal">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Allergies modal -->
<div class="modal fade " id="allergies-modal" data-bs-backdrop="backdrop" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-md modal-maxHeight" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">Record Allergy</h4>

        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body bg-white scroolbar addlocationbody">
        <div class="row mt-2">
          <div class="col-md-2  ">
            <label class="title-bold required">Allergy Type: </label>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline">
              <mat-select required [(ngModel)]="patientAllergy.AllergenType">
                <mat-option *ngFor="let allergy of allergyType" [value]="allergy">
                  {{allergy}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-2 ">
            <label class="title-bold required">Allergen: </label>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="input-bg">
              <mat-select required [(ngModel)]="patientAllergy.AllergenName">
                <mat-option *ngFor="let allergie of allergens" [value]="allergie">
                  {{allergie.AllergyName}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-2 ">
            <label class="title-bold required">Severity Level: </label>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline">
              <mat-select required [(ngModel)]="patientAllergy.SeverityLevel">
                <mat-option *ngFor="let severity of severityLevel" [value]="severity">
                  {{severity}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-2 ">
            <label class="title-bold required">Onset At: </label>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline">
              <mat-select required [(ngModel)]="patientAllergy.OnSetAt">
                <mat-option *ngFor="let onset of onsetAt" [value]="onset">
                  {{onset}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class=" form-group col-md-6 ">
            <label class="title-bold required">Reaction(s): </label>
            <mat-form-field appearance="outline">
              <mat-select required [(ngModel)]="patientAllergy.Reaction">
                <mat-option *ngFor="let allergy of allergyReaction" [value]="allergy">
                  {{allergy}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-2 ">

            <label class="title-bold required">Start Date </label>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="grey-matform green-calendar cstm-calendar col-md-8">
              <input matInput [matDatepicker]="StartAt" placeholder="Start Date" name="startDate"
                (click)="StartAt.open()" readonly [(ngModel)]="patientAllergy.StartAt" />
              <mat-datepicker-toggle matSuffix [for]="StartAt">
              </mat-datepicker-toggle>
              <mat-datepicker #StartAt disabled="false"></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-2 ">
            <label class="title-bold">End Date: </label>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="grey-matform green-calendar cstm-calendar col-md-8">
              <input matInput [matDatepicker]="EndAt" placeholder="End Date" name="endDate" (click)="EndAt.open()"
                readonly [(ngModel)]="patientAllergy.EndAt" />
              <mat-datepicker-toggle matSuffix [for]="EndAt">
              </mat-datepicker-toggle>
              <mat-datepicker #EndAt disabled="false"></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-12 mt-3">
          <label class="title-bold">Notes:</label>
          <textarea class="form-control inputclass col-12 mt-3 mt-md-0" [(ngModel)]="patientAllergy.Note"></textarea>
        </div>
      </div>

      <div class="row mb-3 mt-1 mx-2">
        <div class="col-md-12 locationbtns">
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-lg btn-green col-xl-4 col-lg-4 col-md-4 col-8 mx-2"
              data-bs-dismiss="modal" [disabled]="disableAllergies()" (click)="CreateAllergies()">
              Save Changes
            </button>
            <button type="button" class="btn btn-lg btn-green col-xl-3 col-lg-3 col-md-3 col-5 mx-3"
              data-bs-dismiss="modal" (click)="resetDialog()">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Medication -->
<div class="modal" id="medication-modal" data-bs-backdrop="backdrop" tabindex="-1" aria-labelledby="staticBackdropLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">Record Medication (Local)</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body bg-white scroolbar addlocationbody">
        <div class="row mt-2">
          <label class="title-field">Medication Name:</label>
          <button type="button" class="btn btn-orange btn-save"
            (click)="openComponentDialog(discontinueDialogComponent,null,ActionTypes.add)">
            Discontinue
          </button>
          <div class="col-md-9">
            <mat-form-field class="input-bg w-100" appearance="outline">
              <mat-select [(ngModel)]="patientMedication.DrugName">
                <mat-option *ngFor="let medication of medications" [value]="medication">
                  {{medication}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-3 mt-1 ">
            <button class="btn btn-green btn-search">Search</button>
          </div>
        </div>
        <div class="row mt-2">
          <div class="form-group col-md-6">
            <label class="title-field">Rx Norm ID:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Rx Norm ID" name="rxnormid:" [(ngModel)]="patientMedication.Rxcui" />
            </mat-form-field>
          </div>
          <div class="form-group col-md-6 ">
            <label class="title-field">NDC ID:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="NDC ID" name="ndcid:" [(ngModel)]="patientMedication.NDC" />
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class="form-group col-md-6">
            <label class="title-field">Dose and Form:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Dose and Form" name="doseandform:"
                [(ngModel)]="patientMedication.DoseandForm" />
            </mat-form-field>
          </div>
          <div class="form-group col-md-6 ">
            <label class="title-field">Dispense</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Dispense" name="dispense:" [(ngModel)]="patientMedication.Dispense" />
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class="form-group col-md-6">
            <label class="title-field">Units:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Units" name="units:" [(ngModel)]="patientMedication.Units" />
            </mat-form-field>
          </div>
          <div class="form-group col-md-6">
            <label class="title-field">Quantity:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Quantity" name="quantity" [(ngModel)]="patientMedication.Quantity" />
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class=" form-group col-md-6">
            <label class="title-field">Refills:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Refills" name="refills:" [(ngModel)]="patientMedication.Refills" />
            </mat-form-field>
          </div>
          <div class="form-group  col-md-6">
            <label class="title-field">Days Supply:</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Days Supply" name="dayssupply:" [(ngModel)]="patientMedication.DaysSupply" />
            </mat-form-field>
          </div>
        </div>
        <div class="row mt-2">
          <div class=" form-group col-md-6">
            <label class="title-field">Start Date</label>
            <mat-form-field appearance="outline" class="grey-matform grey-calendar medication-datepicker">
              <input matInput class="pointer date-mat-class" autocomplete="off" [matDatepicker]="picker5"
                (click)="picker5.open()" readonly placeholder="Start Date" [(ngModel)]="patientMedication.StartAt" />
              <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
              <mat-datepicker #picker5></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="form-group  col-md-6">
            <label class="title-field">End Date</label>
            <mat-form-field appearance="outline" class="grey-matform grey-calendar medication-datepicker">
              <input matInput class="pointer date-mat-class" autocomplete="off" [matDatepicker]="picker4"
                (click)="picker4.open()" readonly placeholder="End Date" [(ngModel)]="patientMedication.StopAt" />
              <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
              <mat-datepicker #picker4></mat-datepicker>
            </mat-form-field>

          </div>
        </div>
        <div class="row mt-2">
          <div class=" form-group col-md-6">
            <label class="title-field">Reasons</label>
            <mat-form-field class="input-bg w-100" appearance="outline">
              <input matInput placeholder="Reasons" name="reasons" [(ngModel)]="patientMedication.ReasonDescription" />
            </mat-form-field>
          </div>
          <div class="form-group mt-4 col-md-6">
            <button type="button" class="btn btn-orange btn-save" data-bs-toggle="modal"
              data-bs-target="#discontinue-modal">
              Discontinue
            </button>
          </div>
        </div>
        <div class="row mt-2">
          <div class="form-group ">
            <label class="title-bold">Patient Direction:</label>
            <textarea class="form-control inputclass col-12 mt-3 mt-md-0" placeholder="Notes"
              [(ngModel)]="patientMedication.Notes"></textarea>
          </div>
        </div>
        <div class="row links-item mt-4">
          <div class="col-md-2 col-sm-3">
            <p>Resources:</p>
          </div>
          <div class="col-md-5 col-sm-5"><a class="underlined btn-modal medline-plus-link"
              href="/medline_plus/info?code_system=RxNorm">Medline Plus</a></div>
          <div class="col-md-5 col-sm-5"><a class="underlined btn-modal" id="education_materials_show"
              data-target="#modal-education-materials" data-remote="true" data-bs-toggle="modal"
              data-bs-target="#exampleModal7">Patient Education Materials</a></div>
        </div>
      </div>
      <div class="row mb-3 mt-1 mx-3">
        <div class="col-md-12 locationbtns">
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-lg btn-green col-xl-4 col-lg-4 col-md-4 col-8 mx-2"
              data-bs-dismiss="modal" [disabled]="disableMedication()" (click)="CreateMedication()">
              Save Changes
            </button>
            <button type="button" class="btn btn-lg btn-green col-xl-3 col-lg-3 col-md-3 col-5 mx-3"
              data-bs-dismiss="modal" (click)="resetDialog()">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Discontinue modal in medications -->
<div class="modal" id="discontinue-modal" data-bs-backdrop="backdrop" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-md" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">Select Reason</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body bg-white  addlocationbody">
        <div class=" form-group col-md-12 ">
          <label class="title-field">Search Reaction(s): </label>
        </div>
        <div class=" form-group col-md-12">
          <label class="title-field"> Reason - Code</label>
          <mat-form-field class="input-bg input-field w-100" appearance="outline">
            <input matInput placeholder="Reason - Code" name="reasonscode" [(ngModel)]="patientMedication.ReasonCode" />
          </mat-form-field>
        </div>
        <div class=" form-group col-md-12">
          <label class="title-field">Reason - Description</label>
          <mat-form-field class="input-bg input-field w-100" appearance="outline">
            <input matInput placeholder="Reason Description" name="reasondescription"
              [(ngModel)]="patientMedication.ReasonDescription" />
          </mat-form-field>
        </div>
      </div>
      <div class="row mb-3 mt-1 mx-2">
        <div class="col-md-12 locationbtns">
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-lg btn-green col-xl-3 col-lg-3 col-md-3 col-5 "
              data-bs-dismiss="modal">
              Done
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Patient Education Material in medication popup -->
<div class="modal fade " id="exampleModal7" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-md" role="document">
    <div class="modal-content">
      <div class="modal-header header-change">
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body">
        <div class="scrollable-container" style="height: auto;">
          <div class="content">
            <div class="row">
              <div class="col-lg-12">
                <div class="icon icon-ic-material-not-found"></div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 modal-text">
                <p>No Patient Education Material Available for this Code</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Medication and precription modal -->
<div class="modal fade " id="medication-prescription-modal" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">
          <span>All | </span>
          <span>Medications | </span>
          <span>Prescription</span>
        </h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body">
        <mat-table class="table table-responsive" [dataSource]="medication_prescription" matSort>
          <ng-container matColumnDef="Location">
            <mat-header-cell *matHeaderCellDef>Location name</mat-header-cell>
            <mat-cell *matCellDef="let loc">
            </mat-cell>
          </ng-container>
          <ng-container matColumnDef="Address">
            <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>
            <mat-cell *matCellDef="let loc"></mat-cell>
          </ng-container>
          <ng-container matColumnDef="Phone">
            <mat-header-cell *matHeaderCellDef>Phone</mat-header-cell>
            <mat-cell *matCellDef="let loc"></mat-cell>
          </ng-container>
          <ng-container matColumnDef="Providers">
            <mat-header-cell *matHeaderCellDef># of Providers</mat-header-cell>
            <mat-cell *matCellDef="let loc"></mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="locationColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: locationColumns"></mat-row>
        </mat-table>
      </div>
    </div>
  </div>
</div>

<!-- Tobacoo use modal -->
<div class="modal fade " id="tobacco-use-modal" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog tobacco-use" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium w-100 text-center">Tobacco Use</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body">
        <div class="content">
          <div class="panel">
            <div class="panel-header">
              <p class="panel-title Helvetica-sans-serif-medium">Screening and Use:</p>
            </div>
            <div class="panel-body">
              <div class="row">
                <div class="col-lg-2 col-md-6 col-12 tobacoo-padding">
                  <mat-label>Screening Performed:*</mat-label>
                </div>
                <mat-form-field appearance="outline" class="col-lg-4 col-md-6 col-12 hover">
                  <mat-select placeholder="Select Screening Performed" disableOptionCentering
                    [(ngModel)]="patientTobaccoUse.ScreeningType">
                    <mat-option>BMI
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <div class="col-lg-2 col-md-6 col-12 tobacoo-padding">
                  <mat-label>Date Performed:*</mat-label>
                </div>
                <mat-form-field appearance="outline"
                  class="grey-matform grey-calendar medication-datepicker col-lg-4 col-md-6 col-12">
                  <input matInput class="pointer" autocomplete="off" [matDatepicker]="dateperformed"
                    (click)="dateperformed.open()" readonly placeholder="Date Performed"
                    [(ngModel)]="patientTobaccoUse.ScreeningDate" />
                  <mat-datepicker-toggle matSuffix [for]="dateperformed"></mat-datepicker-toggle>
                  <mat-datepicker #dateperformed></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="row">
                <div class="col-lg-2 col-md-2 col-12 tobacoo-padding">
                  <mat-label>Status:*</mat-label>
                </div>
                <div class="col-lg-4 col-md-4 col-12 tobacoo-padding">
                  <mat-radio-group [(ngModel)]="patientTobaccoUse.Status">
                    <mat-radio-button [value]="true"></mat-radio-button>
                    <mat-label class="Helvetica-sans-serif-medium">User</mat-label>
                    <mat-radio-button class="ms-5" [value]="false"></mat-radio-button>
                    <mat-label class="Helvetica-sans-serif-medium">Non user</mat-label>
                  </mat-radio-group>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 col-md-6 col-12">
                  <button class="btn btn-green w-100"
                    (click)="openComponentDialog(cqmNotPerformedDialogComponent,null,ActionTypes.add)">Add Not
                    Performed</button>
                </div>
                <div class="col-lg-2 d-none d-lg-block d-xl-block"></div>
                <div class="col-lg-4 col-md-6 col-12 mt-3 mt-md-0">
                  <button class="btn btn-green w-100">Recorded Screening and Use</button>
                </div>
              </div>
              <div class="row">
                <div class="screening-list mb-5">
                  <div class="bg-color col-12">
                    <p class="Helvetica-sans-serif-medium">Recorded Screening and Use</p>
                  </div>
                  <mat-table class="table table-responsive" [dataSource]="chartInfo?.TobaccoUseScreenings" matSort>
                    <ng-container matColumnDef="DatePerf">
                      <mat-header-cell *matHeaderCellDef>Date Perf</mat-header-cell>
                      <mat-cell *matCellDef="let loc">
                      </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="Screeningperf">
                      <mat-header-cell *matHeaderCellDef>Screening perf</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="Status">
                      <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="TobaccoUsecode_desc">
                      <mat-header-cell *matHeaderCellDef>Tobacco use code & Desc</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>

                    <mat-header-row *matHeaderRowDef="screeningColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: screeningColumns"></mat-row>
                  </mat-table>
                </div>
              </div>
            </div>
          </div>
          <div class="panel">
            <div class="panel-header">
              <p class="panel-title">Cessation Intervention:</p>
            </div>
            <div class="panel-body">
              <div class="row">
                <div class="col-lg-2 col-md-6 col-12 tobacoo-padding">
                  <mat-label>Intervention Performed:*</mat-label>
                </div>
                <mat-form-field appearance="outline" class="col-lg-4 col-md-6 col-12 hover">
                  <mat-select placeholder="Select Intervention Performed" disableOptionCentering
                    [(ngModel)]="patientTobaccoUse.CI_Type">
                    <mat-option>BMI
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <div class="col-lg-2 col-md-6 col-12 tobacoo-padding">
                  <mat-label>Date Performed:*</mat-label>
                </div>
                <mat-form-field appearance="outline"
                  class="grey-matform grey-calendar medication-datepicker col-lg-4 col-md-6 col-12">
                  <input matInput class="pointer" autocomplete="off" [matDatepicker]="screeningDate"
                    (click)="screeningDate.open()" readonly placeholder="Screening Date"
                    [(ngModel)]="patientTobaccoUse.CI_Date" />
                  <mat-datepicker-toggle matSuffix [for]="screeningDate"></mat-datepicker-toggle>
                  <mat-datepicker #screeningDate></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="row">
                <div class="col-lg-2 d-none d-lg-block d-xl-block"></div>
                <div class="col-lg-4 col-md-6 col-12">
                  <button class="btn btn-green w-100">Recorded Intervention</button>
                </div>
              </div>
              <div class="row">
                <div class="screening-list mb-5">
                  <div class="bg-color col-12">
                    <p class="Helvetica-sans-serif-medium">Recorded Cessation Interventions</p>
                  </div>
                  <mat-table class="table table-responsive" [dataSource]="chartInfo?.TobaccoUseInterventions" matSort>
                    <ng-container matColumnDef="DatePerf">
                      <mat-header-cell *matHeaderCellDef>Date Perf</mat-header-cell>
                      <mat-cell *matCellDef="let loc">
                      </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="Interventionperf">
                      <mat-header-cell *matHeaderCellDef>Intervention perf</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="InterventionDesc">
                      <mat-header-cell *matHeaderCellDef>Intervention Desc</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="AddReasonNotPerformed">
                      <mat-header-cell *matHeaderCellDef>Add Reason Not Performed</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="Reason">
                      <mat-header-cell *matHeaderCellDef>Reason</mat-header-cell>
                      <mat-cell *matCellDef="let loc"></mat-cell>
                    </ng-container>
                    <mat-header-row *matHeaderRowDef="interventionColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: interventionColumns"></mat-row>
                  </mat-table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-green">Save</button>
        <button class="btn btn-green" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- Add/Edit Immunization -->
<div class="modal fade " id="immunization-modal" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium">Add/Edit Vaccination</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal" (click)="resetDialog()">
          X
        </span>
      </div>
      <div class="modal-body">
        <div class="row">
          <mat-radio-group [(ngModel)]="patientImmunization.ImmType" (click)="resetImmunization()">
            <mat-radio-button value="administered">
              <mat-label class="Helvetica-sans-serif-medium">Administered</mat-label>
            </mat-radio-button>
            <mat-radio-button class="ms-5" value="historical">
              <mat-label class="Helvetica-sans-serif-medium">Historical</mat-label>
            </mat-radio-button>
            <mat-radio-button class="ms-5" value="refused">
              <mat-label class="Helvetica-sans-serif-medium">Refused</mat-label>
            </mat-radio-button>
          </mat-radio-group>
        </div>
        <div class="row mt-3">
          <mat-label class="required">Vaccine:</mat-label>
          <mat-form-field class="procedure-form-field" appearance="outline" [ngStyle]="{'width':'100%'}">
            <input matInput #searchVaccineCode class="form-control" placeholder="Select Procedure Code" type="text"
              id="searchVaccineCode" name=" searchVaccineCode" [matAutocomplete]="procedureCode" />
            <mat-autocomplete [displayWith]="displayWithVaccine" #procedureCode="matAutocomplete"
              (optionSelected)="onSelectedImmunization($event)">
              <mat-option *ngIf="isLoading">Loading ...</mat-option>
              <mat-option *ngFor="let option of vaccines | async" [value]="option" class="medical-code-option">
                {{option.Code}} - {{option.Description}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <span class="selected-allergen" id="allergenName" *ngIf="patientImmunization.Code != ''">
            <p>{{patientImmunization.Code}} - {{patientImmunization.Description}}</p>
            <a class="icon icon-sm icon-circle icon-ic-delete pull-right" id="allergy-delete"
              (click)="deleteVaccineCode()"></a>
          </span>
        </div>
        <div
          [ngStyle]="{'display': patientImmunization.ImmType == 'historical' || patientImmunization.ImmType == 'refused' ? 'none' : 'block' }">
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Date Administered:</mat-label>
                <mat-form-field appearance="outline" class="green-calendar col-12">
                  <input matInput class="pointer" autocomplete="off" [matDatepicker]="dateAdministered"
                    (click)="dateAdministered.open()" readonly placeholder="Date Performed"
                    [(ngModel)]="patientImmunization.AdministeredAt" />
                  <mat-datepicker-toggle matSuffix [for]="dateAdministered"></mat-datepicker-toggle>
                  <mat-datepicker #dateAdministered></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Time administered:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <input matInput placeholder="hh:mm xm" [(ngModel)]="patientImmunization.AdministeredTime" />
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Administered by:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Select administered by" [(ngModel)]="patientImmunization.AdministeredById">
                    <mat-option *ngFor="let providers of PracticeProviders" [value]="providers.ProviderId">
                      {{providers.FullName}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Ordered by:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Select ordered by" [(ngModel)]="patientImmunization.OrderedById">
                    <mat-option *ngFor="let providers of PracticeProviders" [value]="providers.ProviderId">
                      {{providers.FullName}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <mat-label class="required">Administered:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Select administered" [(ngModel)]="patientImmunization.AdministeredFacilityId">
                <mat-option *ngFor="let item of LocationAddress" [value]="item.Location_Id">
                  {{item.Location_Name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Manufacturer:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Enter Manufacturer" [(ngModel)]="patientImmunization.Manufacturer">
                    <mat-option *ngFor="let manufacturer of immManufacturers" [value]="manufacturer">
                      {{manufacturer}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Lot:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <input matInput placeholder="Enter Lot" [(ngModel)]="patientImmunization.Lot" />
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Quantity:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <input matInput placeholder="Enter Quantity" [(ngModel)]="patientImmunization.Quantity" />
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Dose:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <input matInput placeholder="Enter Dose" [(ngModel)]="patientImmunization.Dose" />
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Units:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Select Unit" [(ngModel)]="patientImmunization.Unit">
                    <mat-option *ngFor="let unit of immUnits" [value]="unit">
                      {{unit}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Expiration Date:</mat-label>
                <mat-form-field appearance="outline" class="green-calendar col-12">
                  <input matInput class="pointer" autocomplete="off" [matDatepicker]="expirationDate"
                    (click)="expirationDate.open()" readonly placeholder="Date Performed"
                    [(ngModel)]="patientImmunization.ExpirationAt" />
                  <mat-datepicker-toggle matSuffix [for]="expirationDate"></mat-datepicker-toggle>
                  <mat-datepicker #expirationDate></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <mat-label>Route:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Search a route" [(ngModel)]="patientImmunization.Route">
                <mat-option *ngFor="let route of immRoutes" [value]="route">
                  {{route}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-label>Body Site:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Search a body site" [(ngModel)]="patientImmunization.BodySite">
                <mat-option *ngFor="let bodysite of immBodySites" [value]="bodysite">
                  {{bodysite}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-label>Funding Source:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Search a founding source" [(ngModel)]="patientImmunization.FundingSource">
                <mat-option *ngFor="let source of immFundingSources" [value]="source">
                  {{source}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-label>Registry Notifications:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Notify me" [(ngModel)]="patientImmunization.RegistryNotification">
                <mat-option *ngFor="let notify of immRegistryNotifications" [value]="notify">
                  {{notify}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-label>VFC Financial Class:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Class selection" [(ngModel)]="patientImmunization.VFCClass">
                <mat-option *ngFor="let vfcclass of immVfcClasses" [value]="vfcclass">
                  {{vfcclass}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row textarea-margin">
            <mat-label>Comments:</mat-label>
            <textarea class="col-12" placeholder="Comments" [(ngModel)]="patientImmunization.Comments"></textarea>
          </div>
          <div class="row textarea-margin">
            <mat-label>Notes:</mat-label>
            <textarea class="col-12" placeholder="Notes" [(ngModel)]="patientImmunization.Notes"></textarea>
          </div>
        </div>
        <div
          [ngStyle]="{'display': patientImmunization.ImmType == 'administered' || patientImmunization.ImmType == 'refused' ? 'none' : 'block' }">
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Date Administered:</mat-label>
                <mat-form-field appearance="outline" class="green-calendar col-12">
                  <input matInput class="pointer" autocomplete="off" [matDatepicker]="dateAdministeredHistorical"
                    (click)="dateAdministeredHistorical.open()" readonly placeholder="Date Performed"
                    [(ngModel)]="patientImmunization.AdministeredAt" />
                  <mat-datepicker-toggle matSuffix [for]="dateAdministeredHistorical"></mat-datepicker-toggle>
                  <mat-datepicker #dateAdministeredHistorical></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Source of Information:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Select a source" [(ngModel)]="patientImmunization.SourceOfInformation">
                    <mat-option *ngFor="let info of immSourceOfInfo" [value]="info">
                      {{info}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <mat-label class="required">Administered:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Select administered" [(ngModel)]="patientImmunization.AdministeredFacilityId">
                <mat-option *ngFor="let item of LocationAddress" [value]="item.Location_Id">
                  {{item.Location_Name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row textarea-margin">
            <mat-label>Comments:</mat-label>
            <textarea class="col-12" placeholder="Comments" [(ngModel)]="patientImmunization.Comments"></textarea>
          </div>
          <div class="row textarea-margin">
            <mat-label>Notes:</mat-label>
            <textarea class="col-12" placeholder="Notes" [(ngModel)]="patientImmunization.Notes"></textarea>
          </div>
        </div>
        <div
          [ngStyle]="{'display': patientImmunization.ImmType == 'administered' || patientImmunization.ImmType == 'historical' ? 'none' : 'block' }">
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Reason Refused:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Select refusal reason" [(ngModel)]="patientImmunization.ReasonRefused">
                    <mat-option *ngFor="let refused of immReasonRefuseds" [value]="refused">
                      {{refused}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label>Reason Refused Code:</mat-label>
                <mat-form-field appearance="outline" class="col-12">
                  <mat-select placeholder="Select refusal code" [(ngModel)]="patientImmunization.ReasonCode">
                    <mat-option *ngFor="let refusedcode of immReasonRefusedsCode" [value]="refusedcode">
                      {{refusedcode}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label class="required">Date Refused:</mat-label>
                <mat-form-field appearance="outline" class="green-calendar col-12">
                  <input matInput class="pointer" autocomplete="off" [matDatepicker]="dateRefused"
                    (click)="dateRefused.open()" readonly placeholder="Date Performed"
                    [(ngModel)]="patientImmunization.RefusedAt" />
                  <mat-datepicker-toggle matSuffix [for]="dateRefused"></mat-datepicker-toggle>
                  <mat-datepicker #dateRefused></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
            <div class="col-md-6 col-12">
              <div class="row">
                <mat-label>Status:</mat-label>
                <h4 class="mt-3">Refused</h4>
              </div>
            </div>
          </div>
          <div class="row">
            <mat-label class="required">Practice:</mat-label>
            <mat-form-field appearance="outline" class="col-12">
              <mat-select placeholder="Select Practice" [(ngModel)]="patientImmunization.AdministeredFacilityId">
                <mat-option *ngFor="let item of LocationAddress" [value]="item.Location_Id">
                  {{item.Location_Name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="row textarea-margin">
            <mat-label>Comments:</mat-label>
            <textarea class="col-12" placeholder="Comments" [(ngModel)]="patientImmunization.Comments"></textarea>
          </div>
          <div class="row textarea-margin">
            <mat-label>Notes:</mat-label>
            <textarea class="col-12" placeholder="Notes" [(ngModel)]="patientImmunization.Notes"></textarea>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-green" data-bs-dismiss="modal"
          [ngStyle]="{'display': patientImmunization.ImmType == 'historical' || patientImmunization.ImmType == 'refused' ? 'none' : 'block' }"
          [disabled]="disableImmAdministered()" (click)="CreateImmunizationsAdministered()">Save</button>
        <button class="btn btn-green" data-bs-dismiss="modal"
          [ngStyle]="{'display': patientImmunization.ImmType == 'administered' || patientImmunization.ImmType == 'refused' ? 'none' : 'block' }"
          [disabled]="disableImmHistorical()" (click)="CreateImmunizationsHistorical()">Save</button>
        <button class="btn btn-green" data-bs-dismiss="modal"
          [ngStyle]="{'display': patientImmunization.ImmType == 'administered' || patientImmunization.ImmType == 'historical' ? 'none' : 'block' }"
          [disabled]="disableImmRefused()" (click)="CreateImmunizationsRefused()">
          Save</button>
        <button class="btn btn-green" data-bs-dismiss="modal" (click)="resetDialog()">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- Immunization table -->
<div class="modal fade " id="immunization-table-modal" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title Helvetica-sans-serif-medium w-100 text-center">Immunizations</h4>
        <span type="button" class="cross-mark" data-bs-dismiss="modal">
          X
        </span>
      </div>
      <div class="modal-body">
        <mat-table [dataSource]="chartInfo?.Immunizations" matSort>
          <ng-container matColumnDef="VaccineDescription">
            <mat-header-cell *matHeaderCellDef mat-sort-header="VaccineDescription">Vaccine Description
            </mat-header-cell>
            <mat-cell *matCellDef="let loc">{{loc.Description}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="CVXCode">
            <mat-header-cell *matHeaderCellDef mat-sort-header="CVXCode">CVX Code</mat-header-cell>
            <mat-cell *matCellDef="let loc">{{loc.Code}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="Date">
            <mat-header-cell *matHeaderCellDef mat-sort-header="Date">Date</mat-header-cell>
            <mat-cell *matCellDef="let loc">{{loc.AdministeredAt}}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="Status">
            <mat-header-cell *matHeaderCellDef mat-sort-header="Status">Status</mat-header-cell>
            <mat-cell *matCellDef="let loc">{{loc.ImmType}}</mat-cell>
          </ng-container>
          <mat-header-row *matHeaderRowDef="immuniztionColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: immuniztionColumns"></mat-row>
        </mat-table>
      </div>
      <div class="modal-footer">
        <button class="btn btn-green" data-bs-toggle="modal" data-bs-target="#immunization-modal">Add Vaccine</button>
        <button class="btn btn-green" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>
