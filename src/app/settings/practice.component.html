<div class="scrollable-container">
  <div class="content ">
    <div class="row denatal-chart-top">
      <!-- practice will be dongin now; -->
      <!-- Display Practice -->
      <div class="col-lg-12 col-md-12">
        <div class="right-block mx-2">
          <div class="colB border">
            <div class="panel">
              <p class="panel-title px-2">Practice Settings</p>
            </div>
            <div class="row top-header mt-5">
              <div class="col-xl-2 col-lg-3 col-md-4 col-12">
                <p class="top-block my-3" style="text-align: center;">Time Zone:</p>
              </div>
              <div class="col-xl-6 col-lg-5 col-md-7 col-12 ">
                <!-- <mat-form-field appearance="outline" class="col-12 px-2">
                    <mat-select placeholder="Eastern Time (US & Canada)" formControlName="TimeZones"
                      disableOptionCentering [(ngModel)]="user.TimeZone">
                      <mat-option *ngFor="let timezone of TimeZoneList" [value]="timezone.DisplayName">
                        {{timezone.DisplayName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field> -->
                <select class="col-12 inputclass" [(ngModel)]="user.TimeZone">
                  <option value="" disabled selected hidden>Eastern Time (US & Canada)</option>
                  <option *ngFor="let timezone of TimeZoneList" [value]="timezone.DisplayName">
                    {{timezone.DisplayName}}
                  </option>
                </select>
                <div class="mx-2">
                  <p class="time my-0">Current Time : {{CurrentTime}}</p>
                  <p class="time my-0">Current UTC Time : {{UTCTime}}</p>
                </div>
              </div>
              <div class="col-xl-4 col-lg-3 col-md-6 col-12 savebtnsize">
                <button type="submit" class="btn-success mx-2 px-2 py-2 btn btn-lg btn-md btnSave">Save</button>
              </div>
            </div>
            <div class="colC">
              <div class="row panel-title m-0">
                <div class="col-xl-11 col-lg-9 col-md-8 col-12">Practice Location</div>
                <div class="col-xl-1 col-lg-3 col-md-4 col-12">
                  <button class="plusicon pull-right" data-bs-toggle="modal" data-bs-target="#practice-modal"
                    (click)="closePopup()">
                    <i class="fa fa-plus addlocation mx-1"></i>
                  </button>
                </div>
              </div>

              <div class="scrollable-mat-table">
                <mat-table class="table table-responsive" [dataSource]="locationdataSource">
                  <ng-container matColumnDef="Location">
                    <mat-header-cell *matHeaderCellDef>Location name</mat-header-cell>
                    <mat-cell *matCellDef="let loc"><span class="text-decoration ">
                        <a data-remote="true" data-bs-toggle="modal" class="cursorpointer"
                          data-bs-target="#practice-modal" (click)="editPracticeLocation(loc)">
                          {{loc.Location_Name}}</a></span></mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Address">
                    <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>
                    <mat-cell *matCellDef="let loc">{{loc.Location_Street_Address}}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Phone">
                    <mat-header-cell *matHeaderCellDef>Phone</mat-header-cell>
                    <mat-cell *matCellDef="let loc">{{loc.Location_Phone}}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Providers">
                    <mat-header-cell *matHeaderCellDef># of Providers</mat-header-cell>
                    <mat-cell *matCellDef="let loc">{{loc.providers}}</mat-cell>
                  </ng-container>

                  <mat-header-row *matHeaderRowDef="locationColumns"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: locationColumns"></mat-row>
                </mat-table>

              </div>
            </div>
            <div class="colC">
              <div class="">
                <div class="row panel-title  m-0">
                  <div class="col-xl-2 col-lg-12 col-md-12 col-12 providerlabel">Users</div>
                  <div class="col-xl-4 col-lg-12 col-md-12 col-12 providerlabel">Practice ID#:
                    <u>{{user.UserId}}</u>
                  </div>
                  <div class="col-xl-5 col-lg-9 col-md-9 col-12 providerlabel">{{user.BusinessName}}</div>
                  <div class="col-xl-1 col-lg-3 col-md-3 col-12">
                    <button class="plusicon pull-right" data-bs-toggle="modal" data-bs-target="#user-modal">
                      <i class="fa fa-plus addprovider mx-1"></i>
                    </button>
                  </div>
                </div>
              </div>

              <div class="scrollable-mat-table">
                <mat-table class="table table-responsive " [dataSource]="providersDataSource">
                  <ng-container matColumnDef="FullName">
                    <mat-header-cell *matHeaderCellDef>Full Name</mat-header-cell>

                    <mat-cell *matCellDef="let user"><span class="text-decoration">
                        <span>
                          <img class="avatar avatar-empty mx-2"
                            src="/assets/images/avatar-empty-0b15d6123f5339b0505eef6ad8a8fe0d22d1406692b5c16b3839c561e9c92e60.svg"
                            alt="Avatar empty" width="32" height="32" style="border-radius: 36px ;background: #cfcaca;">
                        </span>
                        <a data-remote="true" data-bs-toggle="modal" data-bs-target="#edit-user-modal"
                          class="cursorpointer" (click)="getUserDataforEdit(user)">{{user.FirstName}}
                          {{user.LastName}}</a></span></mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Email">
                    <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
                    <mat-cell *matCellDef="let user">{{user.email}}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Role">
                    <mat-header-cell *matHeaderCellDef>Role</mat-header-cell>
                    <mat-cell *matCellDef="let user">{{user.PracticeRole}}</mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Space">
                    <mat-header-cell *matHeaderCellDef></mat-header-cell>
                    <mat-cell *matCellDef="let user">
                      <mat-checkbox class="example-margin" [(ngModel)]="user.Admin"
                        (ngModelChange)="toggleAdmin(user,$event)">
                        <span class="admineclass">Admin</span>
                      </mat-checkbox>
                    </mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="Status">
                    <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
                    <mat-cell *matCellDef="let user">
                      <a role="button"
                       (click)="toggleStatus(user,$event)"
                        [ngClass]="user.Active?'StatusActive':'inactive'">
                        <span *ngIf="user.Active">Active</span>
                        <span *ngIf="!user.Active">Inactive</span>
                      </a>
                    </mat-cell>
                  </ng-container>
                  <ng-container matColumnDef="EmergencyAccess">
                    <mat-header-cell *matHeaderCellDef>Emergency Access</mat-header-cell>
                    <mat-cell *matCellDef="let user">
                      <mat-checkbox class="example-margin" [(ngModel)]="user.EmergencyAccess"
                        (ngModelChange)="toggleEmergencyAccess(user,$event)"></mat-checkbox>
                    </mat-cell>
                  </ng-container>
                  <mat-header-row *matHeaderRowDef="providerColumns"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: providerColumns"></mat-row>
                </mat-table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Location Modal Popup -->
  <div class="modal fade " id="practice-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" *ngIf="!displayforEditLocation">Add location</h4>
          <h4 class="modal-title" *ngIf="displayforEditLocation">Edit location</h4>
          <button type="button" class="btn btn-sm  closemodel" data-bs-dismiss="modal" aria-label="Close">X</button>
        </div>
        <div class="bg-white">
          <div class="scroolbar">
            <div class="modal-body">
              <div class="mb-0">
                <div class="">
                  <div class="content">
                    <div class="row-container">
                      <div class="row" *ngIf="displayforEditLocation">
                        <div class="col-12">
                          <div class="pull-right mb-2">
                            <input type="checkbox" class="mx-2" /><label class="mx-1 fs-6">Primary Location</label>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-12">
                          <div class="form-group">
                            <div class="input-group">
                              <span class="input-group-addon labelclass form-control">Location Name*</span>
                              <input class="form-control mx-0 inputclass" type="text"
                                [(ngModel)]="PracticeLocData.LocationName" id="locationName" name="locationName"
                                #locationName="ngModel" required pattern="[a-zA-Z ]*" />
                            </div>
                            <div *ngIf="locationName.errors && (locationName.touched)">
                              <div class="error_message" *ngIf="locationName.errors?.required">
                                <span class="e_arrow"></span>
                                <i>Please enter Location Name</i>
                              </div>
                              <div class="error_message" *ngIf="locationName.errors?.pattern">
                                <span class="e_arrow"></span>
                                <i>Location name not valid, Use only Alphabets and space</i>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3">
                        <div class="col-lg-12">
                          <div class="form-group">
                            <div class="input-group input-group-phone">
                              <span class="input-group-addon labelclass form-control">Phone Number</span>
                              <input class="form-control mx-0 inputclass" placeholder="Cell Phone" type="tel"
                                [(ngModel)]="PracticeLocData.LocationPhone" mask=" (000) 000-0000"
                                [showMaskTyped]="true" [patterns]="PhonePattern" />
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row my-2">
                        <div class="col-lg-12">
                          <div class="form-group">
                            <div class="input-group input-group-phone">
                              <span class="input-group-addon labelclass form-control">Fax</span>
                              <input class="form-control mx-0 inputclass" placeholder="Cell Phone" type="tel"
                                [(ngModel)]="PracticeLocData.Fax" mask=" (000) 000-0000" [showMaskTyped]="true"
                                [patterns]="PhonePattern" />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row-container my-2">
                      <div class="left-block" id="signup-wrapper-patient"><input
                          class="hidden validate user_street_address" aria-label="street" type="hidden"
                          name="location[street_address]" id="location_street_address">
                        <div class="row profile-block-body">
                          <div class="col-lg-12">
                            <div class="form-group"><label>ADDRESS</label></div>
                            <div class="row">
                              <div class="col-lg-9 col-md-9 col-sm-9">
                                <div class="form-group">
                                  <input [readonly]="!visiblebtn" placeholder="Enter Full Address here"
                                    class="form-control mx-0 my-2 inputclass" [(ngModel)]="PracticeLocData.Street"
                                    #Address />
                                </div>
                                <h6>Enter Address - Street Address, City, State, Zipcode</h6>
                              </div>
                              <div class="col-lg-3 col-md-3 col-sm-3">
                                <div class="form-group">
                                  <button type="submit" [disabled]="PracticeLocData.Street==''"
                                    (click)="AddressVerification()"
                                    class="btn-success btn mb-2 btn-lg btn-md mt-2">VERIFY</button>
                                </div>
                              </div>
                            </div>
                            <div class="row my-3 street-add showAddressfield">
                              <div class="col-lg-9 col-md-8 col-sm-9 patient-street-address">
                                <div class="form-group" *ngIf="!dispalyOptionStreet">
                                  <div class="input-group"> <span
                                      class="input-group-addon labelclass form-control">Street Address</span>
                                    <input [readonly]="visiblebtn2" placeholder="Street Address"
                                      style="background: white" class="form-control mx-0 inputclass"
                                      [(ngModel)]="PracticeLocData.Stree2" #streetAddress />
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-3 col-md-2 col-sm-9 patient-street-address">
                                <div class="form-group">
                                  <a class="btn1  mt-3" *ngIf="enterbtn" (click)="EnterAddress()">x</a>
                                </div>
                                <div class="form-group">
                                  <button class="btn-success btn manuallbtn  py-0 btn-lg btn-md mt-2"
                                    *ngIf="!manuallybtn" (click)="enterAddressManually()">Enter Address
                                    Manually</button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row ">
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="form-group">
                              <div class="input-group">
                                <span class="input-group-addon labelclass form-control">City</span>
                                <input [ngClass]="visiblebtn2?'cursorallow':'cursornotallow'" [readonly]="visiblebtn2"
                                  class="string required inputbg form-control mx-0" type="text" name="City" id="City"
                                  [(ngModel)]="PracticeLocData.City">
                              </div>
                            </div>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4 my-2 my-md-0">
                            <div class="form-group">
                              <div class="input-group">
                                <span class="input-group-addon labelclass form-control">State</span>
                                <input [readonly]="visiblebtn2" class="string required inputbg form-control mx-0"
                                  type="text" name="State" id="State" [(ngModel)]="PracticeLocData.State">
                              </div>
                            </div>
                          </div>
                          <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="form-group">
                              <div class="input-group">
                                <span class="input-group-addon labelclass form-control">Zip</span>
                                <input class="form-conrtol" [readonly]="visiblebtn2"
                                  class="string required inputbg form-control mx-0" type="text" name="Zip" id="Zip"
                                  [(ngModel)]="PracticeLocData.Zipcode">
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr>
                    <div class="row-container my-2">
                      <div class="row">
                        <div class="col-lg-6 col-md-6 col-sm-6">
                          <div class="form-group"><label>Organization NPI:</label>
                            <input class="form-control mt-1 mx-0 inputclass" type="text"
                              [(ngModel)]="PracticeLocData.NPI">
                          </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                          <div class="form-group"><label>Rendering NPI:</label>
                            <input class="form-control mt-1 mx-0 inputclass" type="text"
                              [(ngModel)]="PracticeLocData.RenderNPI">
                          </div>
                        </div>
                      </div>
                      <div class="row my-2">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                          <div class="form-group"><label>TIN/EIN:</label>
                            <input class="form-control mt-1 mx-0 inputclass" type="text"
                              [(ngModel)]="PracticeLocData.Tin">
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                    <div class="row-container my-2">
                      <div class="row my-3">
                        <div class="col-lg-2 col-md-2 col-sm-2"></div>
                        <div class="col-lg-3 col-md-3 col-sm-3 col-lg-offset-left-10 text-center ">
                          <label>Open:</label>
                        </div>
                        <div class="collabel-lg-3 col-md-3 col-sm-3 col-lg-offset-left-10 text-center">
                          <label>Closed:</label>
                        </div>
                        <div class="col-lg-4"></div>
                      </div>
                      <div class="row">
                        <input value="sunday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[0]][weekday]"
                          id="location_timeslots_attributes_0__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mt-3 week">
                          <p class="weeks">Sunday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.SunOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.SunCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.SunDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3">
                        <input value="monday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[1]][weekday]"
                          id="location_timeslots_attributes_1__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mt-3 week">
                          <p class="weeks">Monday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.MonOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.MonCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.MonDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3"><input value="tuesday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[2]][weekday]"
                          id="location_timeslots_attributes_2__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mt-3 week">
                          <p class="weeks">Tuesday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.TueOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.TueCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.TueDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3"><input value="wednesday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[3]][weekday]"
                          id="location_timeslots_attributes_3__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mt-3 week">
                          <p class="weeks">Wednesday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.WedOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.WedCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.WedDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3"><input value="thursday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[4]][weekday]"
                          id="location_timeslots_attributes_4__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mx-0 mt-3 week">
                          <p class="weeks">Thursday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group ">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.ThursOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.ThursCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.ThursDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3">
                        <input value="friday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[5]][weekday]"
                          id="location_timeslots_attributes_5__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mt-3 week">
                          <p class="weeks">Friday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.FriOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.FriCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.FriDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="row my-3"><input value="saturday" class="hidden" type="hidden"
                          name="location[timeslots_attributes[6]][weekday]"
                          id="location_timeslots_attributes_6__weekday">
                        <div class="col-lg-2 col-md-2 col-sm-2 mt-3 week">
                          <p class="weeks">Saturday</p>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="03:00 PM"
                              [(ngModel)]="PracticeLocData.SatOpenTime">
                          </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                          <div class="form-group">
                            <input type="text" class="col-12 inputclass" placeholder="09:00 PM"
                              [(ngModel)]="PracticeLocData.SatCloseTime">
                          </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                          <div class="form-group">
                            <select class="col-12 inputclass" [(ngModel)]="PracticeLocData.SatDDL">
                              <option value="Specific Hours" selected>Specific Hours</option>
                              <option value="Closed/NA">Closed/NA</option>
                              <option value="Open 24 Hrs">Open 24 Hrs</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- </form> -->
                </div>
              </div>
            </div>
            <hr>
          </div>
          <div class="row my-3 mx-3">
            <div class="col-md-12">
              <div class="d-flex justify-content-start">
                <button type="button" class="btn btn-lg btn-danger mx-2" *ngIf="displayforEditLocation"
                  (click)="deleteLocation()">
                  Delete
                </button>
              </div>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-lg btn-success col-xl-4 col-lg-4 col-md-3 col-8"
                  data-bs-dismiss="modal" (click)="updateLocation()">
                  Save Changes
                </button>
                <button type="button" class="btn btn-lg btn-success col-xl-3 col-lg-3 col-md-2 col-5 mx-1"
                  data-bs-dismiss="modal">
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- address verification model -->
  <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayAddress}">
    <div class="modal-dialog  modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header" [ngClass]="sucessdisplay?'addressInvalid':'addressSuccess'">
          <h3 *ngIf="!sucessdisplay">Success</h3>
          <h3 *ngIf="sucessdisplay">Invalid Address</h3>
          <button type="button" *ngIf="!sucessdisplay" class="btn btn-lg btn-success adrsbtn"
            (click)="closePopupAddress()">
            X
          </button>
          <button type="button" *ngIf="sucessdisplay" class="btn btn-lg btn-success erroclose"
            (click)="closePopupAddress()">
            X
          </button>

        </div>
        <div class="modal-body">
          <div class="row">
            <h4 class="text-center" style="margin-top: 1rem;margin-bottom: 2rem;">
              {{addressVerifymsg}}</h4>
            <div class="col-lg-12 col-md-4 col-sm-4">
              <mat-form-field appearance="outline" class="example-full-width" [style.width.px]=565>
                <input type="text" [value]="addressdata" placeholder="address" matInput>
                <md-icon class="link" *ngIf="!sucessdisplay">
                  <a class="link" (click)="splitAddresses()">Use this</a>
                </md-icon>
              </mat-form-field>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

  <!-- Add User Modal Popup -->
  <div class="modal fade" id="user-modal" [ngStyle]="{'display':displayuser}" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog  modal-md" role="document">
      <div class="modal-content">
        <div class="modal-header ">
          <h4 class="modal-title">Add New User</h4>
          <button type="button" class="btn btn-sm btn-success ClosebtnAddForm" data-bs-dismiss="modal"
            aria-label="Close">x</button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-12">
              <div class="form-group">
                <div class="input-group">
                  <span class="labelclass form-control">First Name</span>
                  <input class="addfromdesign inputclass form-control mx-0" type="text"
                    [(ngModel)]="NewUserData.FirstName" id="firstName" name="firstName" #firstName="ngModel" required
                    pattern="[a-zA-Z ]*" />
                </div>
                <div *ngIf="firstName.errors && (firstName.touched)">
                  <div class="error_message" *ngIf="firstName.errors?.required">
                    <span class="e_arrow"></span>
                    <i>Please enter First Name</i>
                  </div>
                  <div class="error_message" *ngIf="firstName.errors?.pattern">
                    <span class="e_arrow"></span>
                    <i>First name not valid, Use only Alphabets and space</i>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-12 col-md-12 col-12 my-2">
              <div class="form-group">
                <div class="input-group">
                  <span class="labelclass form-control">Last Name</span>
                  <input class="addfromdesign inputclass form-control mx-0" type="text"
                    [(ngModel)]="NewUserData.LastName" id="lastName" name="lastName" #lastName="ngModel" required
                    pattern="[a-zA-Z ]*" />
                </div>
              </div>
            </div>
            <div class="col-lg-12 col-md-12 col-12">
              <div class="form-group">
                <div class="input-group input-group-phone">
                  <span class="labelclass form-control">Email</span>
                  <input class="addfromdesign inputclass form-control mx-0" type="text" [(ngModel)]="NewUserData.Email"
                    id="email" name="email" #email="ngModel" required pattern="[a-zA-Z ]*" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-6 col-12 my-2">
                <div class="form-group">
                  <label>Provider Role:</label>
                  <select class="col-12 inputclass" [(ngModel)]="NewUserData.PracticeRole">
                    <option value="" disabled selected hidden>User Role</option>
                    <option *ngFor="let pRole of providerRoles" [value]="pRole.Value">{{pRole.Name}}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-12 my-2">
                <div class="form-group">
                  <label>Status:</label>
                  <select aria-placeholder="Status" class="col-12 inputclass" [(ngModel)]="NewUserData.Active">
                    <option value="" disabled selected hidden>Status</option>
                    <option value="True">Enable</option>
                    <option value="False">Disable</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-lg btn-success" data-bs-dismiss="modal" (click)="updateUser('add')">
            Add
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- User Edit Modal Popup -->
  <div class="modal fade " id="edit-user-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content UserModal">
        <div class="modal-header">
          <h4 class="modal-title">Edit User</h4>
          <button type="button" class="btn btn-sm closemodel" data-bs-dismiss="modal" aria-label="Close">x
          </button>
        </div>
        <div class="modal-body ex3">
          <div class="row-container main-info">
            <div class="row">
              <div class="col-lg-2 col-md-3 col-9 avatar">
                <div class="border">
                  <div class="attachment-container">
                    <div class="avatar-hint">
                      <h6 class="text-mute mx-3 my-0">File must be:</h6>
                      <h6 class="text-mute my-0 mx-3 my-0"> JPG, PNG, GIF</h6>
                      <h6 class="text-mute mx-3 my-0">Max Size: 1MB</h6>
                      <h6 class="text-mute mx-3 my-0">Min. Res: </h6>
                      <h6 class="text-mute mx-3 my-0">300x300 px.</h6>
                      <label class="btn btn-default border mx-2 my-2" style="color: #41b6a6;">
                        Upload File <input type="file" hidden>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-10 col-md-9 col-12">
                <div class="row">
                  <div class="col-lg-2 col-md-4 col-12"><label class="settings-label">Title</label>
                    <div class="form-group">
                      <select class="col-12 inputclass" [(ngModel)]="NewUserData.Title">
                        <option value="" disabled selected hidden>Title</option>
                        <option *ngFor="let title of titles" [value]="title.Name">{{title.Name}}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-4 col-md-8 col-12"><label class="settings-label">First Name</label>
                    <div class="form-group">
                      <input class="inputclass" type="text" placeholder="First Name"
                        [(ngModel)]="NewUserData.FirstName">
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6 col-12"><label class="settings-label">Middle Name</label>
                    <div class="form-group">
                      <input type="text" placeholder="Middle Name" class="inputclass"
                        [(ngModel)]="NewUserData.MiddleName">
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-6 col-12"><label class="settings-label">Last Name</label>
                    <div class="form-group ">
                      <input type="text" placeholder="Last Name" class="inputclass" [(ngModel)]="NewUserData.LastName">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-2 col-md-4 col-12"><label class="settings-label">Degree</label>
                    <div class="form-group">
                      <select class="col-12 inputclass" [(ngModel)]="NewUserData.Degree">
                        <option value="" disabled selected hidden>Credentials</option>
                        <option *ngFor="let dg of degrees" [value]="dg.Name">{{dg.Name}}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-5 col-md-8 col-12"><label class="settings-label">Speciality</label>
                    <div class="form-group">
                      <select class="col-12 inputclass" [(ngModel)]="NewUserData.Speciality">
                        <option value="" disabled selected hidden>Speciality</option>
                        <option *ngFor="let speciality of specialities" [value]="speciality.Name"> {{speciality.Name}}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-5 col-md-12 col-12"><label class="settings-label">Secondary Speciality</label>
                    <div class="form-group">
                      <input type="text" placeholder="Secondary speciality" class="inputclass"
                        [(ngModel)]="NewUserData.SecondarySpeciality">
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div class="row">
              <div class="col-lg-4"><label class="settings-label">Medical/ Dental License #</label>
                <div class="form-group">
                  <input type="text" placeholder="Medical/ Dental License #" class="inputclass"
                    [(ngModel)]="NewUserData.DentalLicense">
                </div>
              </div>
              <div class="col-lg-4"><label class="settings-label">State</label>
                <div class="form-group">
                  <select class="col-12 inputclass" [(ngModel)]="NewUserData.State">
                    <option value="" disabled selected hidden>State</option>
                    <option *ngFor="let state of states" [value]="state.Name">{{state.Name}}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-lg-4 "><label><span class="settings-label">Expiration Date</span>
                </label>
                <div class="form-group ">
                  <input type="text" placeholder="Expiration Date" class="inputclass"
                    [(ngModel)]="NewUserData.ExpirationDate">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-3"><label class="settings-label">NPI</label>
                <div class="form-group">
                  <input type="text" placeholder="NPI" class="inputclass" [(ngModel)]="NewUserData.Npi">
                </div>
              </div>
              <div class="col-lg-3"><label class="settings-label">DEA #</label>
                <div class="form-group">
                  <input type="text" placeholder="DEA #" class="inputclass" [(ngModel)]="NewUserData.Dea">
                </div>
              </div>
              <div class="col-lg-3 "><label class="settings-label">UPIN</label>
                <div class="form-group ">
                  <input type="text" placeholder="UPIN" class="inputclass" [(ngModel)]="NewUserData.UPin">
                </div>
              </div>
              <div class="col-lg-3 "><label class="settings-label">EHR1 User ID
                </label>
                <div class="form-group">
                  <input type="text" placeholder="6345474dffsfdf" readonly class="inputclass notallowCursor"
                    style="cursor: not-allowed;" [(ngModel)]="NewUserData.UserId">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-3"><label class="settings-label">NADEAN</label>
                <div class="form-group">
                  <input type="text" placeholder="NADEAN" class="inputclass" [(ngModel)]="NewUserData.NADean">
                </div>
              </div>
              <div class="col-lg-3"><label class="settings-label">SOCIAL SECURITY NUMBER</label>
                <div class="form-group">
                  <input type="text" placeholder="SSN" class="inputclass" [(ngModel)]="NewUserData.SSN">
                </div>
              </div>
            </div>
            <div class="row panel-title m-0">
              <div class="col-xl-11 col-lg-9 col-md-8 col-12">
                <h5>Practice Location and Provider Schedule </h5>
              </div>
              <div class="col-xl-1 col-lg-3 col-md-4 col-12">
                <button class="plusicon pull-right" data-bs-toggle="modal" data-bs-target="#practice-modal"
                  (click)="closePopup()">
                  <i class="fa fa-plus addlocation mx-2"></i>
                </button>
              </div>
            </div>
            <div class="scrollable-mat-table">
              <mat-table class="table table-responsive userfromPractable" [dataSource]="NewUserData.LocationInfo">
                <ng-container matColumnDef="LocationName">
                  <mat-header-cell *matHeaderCellDef>Location Name</mat-header-cell>
                  <mat-cell *matCellDef="let loc">{{loc.Name}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="CityState">
                  <mat-header-cell *matHeaderCellDef>City, State</mat-header-cell>
                  <mat-cell *matCellDef="let loc">{{loc.City}}, {{loc.State}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="PracticeSchedule">
                  <mat-header-cell *matHeaderCellDef>Practice Schedule</mat-header-cell>
                  <mat-cell *matCellDef="let loc">
                      <ul  >
                        <li *ngFor="let timeSlot of loc.TimeSlots"
                        style="flex-wrap: wrap;line-break: auto;font-size: 11px !important; line-height: 15px;">
                          {{timeSlot.WeekDay}},<br/>
                          {{timeSlot.From}} - {{timeSlot.To}},<br/>
                          {{timeSlot.SpecificHour}}
                        </li>
                      </ul>

                  </mat-cell>
                </ng-container>
                <ng-container matColumnDef="ServicedLocation">
                  <mat-header-cell *matHeaderCellDef>Serviced Location(s)</mat-header-cell>
                  <mat-cell *matCellDef="let loc">
                    <mat-checkbox class="example-margin" [ngModelOptions]="{standalone: true}"
                      [ngModel]="loc.Assigned"></mat-checkbox>
                  </mat-cell>
                </ng-container>

                <mat-header-row class="rowtable" *matHeaderRowDef="providerLocationColumn"></mat-header-row>
                <mat-row *matRowDef="let row; columns: providerLocationColumn"></mat-row>
              </mat-table>
            </div>
            <div class="my-3">
              <div class="row panel-title m-0">
                <div class="col-md-4 py-3">
                  <h4>User Login Info</h4>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4"><label class="settings-label">Role</label>
                <div class="form-group">
                  <select class="col-12 inputclass" placeholder="Role" [(ngModel)]="NewUserData.PracticeRole">
                    <option value="" disabled selected hidden>Role</option>
                    <option *ngFor="let pRole of providerRoles" [value]="pRole.Value">{{pRole.Name}}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-lg-4 " style="margin-top: 27px">
                <mat-checkbox class="example-margin" [(ngModel)]="NewUserData.Active">
                  <label class="settings-label mt-2">Active</label>
                </mat-checkbox>
              </div>
              <div class="col-lg-4">
                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                  data-bs-target="#changepassword-modal" style="margin-top: 27px" class="btn btn-lg btn-success">
                  Change Password
                </button>
              </div>
            </div>
            <div class="row align-items-center">
              <div class="col-lg-4"><label class="settings-label">Login Email Address</label>
                <div class="form-group">
                  <input type="text" placeholder="Login Email Address" class="inputclass"
                    [(ngModel)]="NewUserData.Email">
                </div>
              </div>
              <div class="col-lg-4"><label class="settings-label">Login Phone</label>
                <div class="form-group">
                  <input type="text" placeholder="Login Phone" class="inputclass" [(ngModel)]="NewUserData.PrimaryPhone">
                </div>
              </div>
              <div class="col-lg-4">
                <button type="submit" class="btn btn-lg btn-success">Resend Inviation Email</button>
              </div>
              <div class="col-lg-4"><label class="settings-label">Recovery Email</label>
                <div class="form-group">
                  <input type="text" placeholder="Recovery Email" class="inputclass" [(ngModel)]="NewUserData.AltEmail">
                </div>
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-md-12">
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-lg btn-success mx-2" (click)="updateUser('update')" data-bs-dismiss="modal">
                  Save Changes
                </button>
                <button type="button" class="btn btn-lg btn-success" data-bs-dismiss="modal">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Change Password Modal -->
  <div class="modal fade" id="changepassword-modal" tabindex="-1" aria-labelledby="staticBackdropLabel"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" style="font-size: 18px;">Edits Password</h4>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-12 col-md-4 col-sm-4">
              <div class="form-group">
                <input type="text" placeholder="Email" class="inputclass">
              </div>
            </div>

            <div class="col-lg-12 col-md-6 col-sm-4">
              <div class="form-group">
                <input type="text" placeholder="New Password" class="inputclass">
              </div>
            </div>

            <div class="col-lg-12 col-md-6 col-sm-4">
              <div class="form-group">
                <input type="text" placeholder="Confirm Password" class="inputclass">
              </div>
            </div>
          </div>
        </div>
        <div class="mx-2 my-2">
          <button type="button" class="btn w-25 pull-right btn-lg btn-success mx-3">Save
          </button>
        </div>

      </div>
    </div>
  </div>
