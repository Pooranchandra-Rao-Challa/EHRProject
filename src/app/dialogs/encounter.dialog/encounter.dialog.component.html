<!-- Encounter Modal -->
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title col-11 Helvetica-sans-serif-large" id="staticBackdropLabel">
          Encounter Note - {{appointment.PatientName}} - {{location.locationName}}
        </h3>
        <span type="button" class="cross-mark col-1" (click)="closePopup()" aria-label="Close">
          X
        </span>
      </div>
      <div class="modal-body">
        <div class="col-lg-12 col-md-12 col-sm-12 encounder-top">
          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="row">
                <div class="col-xl-4">
                  <p class="col-12">Date of Service:</p>
                </div>
                <div class="col-xl-4">
                  <mat-label class="col-12">Start Date</mat-label>
                  <mat-form-field appearance="outline" class="col-12 cstm-datepicker-toggle">
                    <input matInput class="pointer" autocomplete="off" [matDatepicker]="startDate"
                      (click)="startDate.open()" readonly placeholder="Start Date" [(ngModel)] = "encounterInfo.ServicedAt"  />
                    <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                    <mat-datepicker #startDate></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-xl-4">
                  <mat-label class="col-12">End Date</mat-label>
                  <mat-form-field appearance="outline" class="col-12 cstm-datepicker-toggle">
                    <input matInput class="pointer" autocomplete="off" [matDatepicker]="endDate"
                      (click)="endDate.open()" readonly placeholder="End Date" [(ngModel)] = "encounterInfo.ServiceEndAt" />
                    <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                    <mat-datepicker #endDate></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="row">
                <div class="col-xl-3">
                  <p>Provider:</p>
                </div>
                <div class="col-xl-8">
                  <mat-form-field appearance="outline" class="col-10 hover cstm-mat-padding">
                    <mat-select placeholder="Select One" disableOptionCentering id="ePracticeProviders"
                      placeholder="Select Provider" [(ngModel)] = "encounterInfo.ProviderId">
                      <mat-option>None</mat-option>
                      <mat-option *ngFor="let provider of PracticeProviders" [value]="provider.ProviderId">{{provider.FullName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="encounter-navigation">
          <mat-tab-group animationDuration="0ms">
            <mat-tab label="Meaningful Use" class="mat-ink-bar">
              <div class="encounter-tab-content">
                <div class="encounter-tab-pane" id="meaningful_use_tab">
                  <div class="content">
                    <div class="row area-text">
                      <div class="col-xl-2 col-lg-3 col-md-4 col-12">
                        <span>Reason for visit:</span>
                      </div>
                      <div class="col-xl-10 col-lg-9 col-md-8 col-12">
                        <textarea matInput></textarea>
                      </div>
                    </div>
                    <div class="row area-text">
                      <div class="col-xl-2 col-lg-3 col-md-4 col-12">
                        <span>Clinical Instructions:</span>
                      </div>
                      <div class="col-xl-10 col-lg-9 col-md-8 col-12">
                        <textarea matInput></textarea>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-12 displayFlex" style="padding: 10px">
                        <mat-checkbox class="encounter-checkbox">Patient Education Resources Provided</mat-checkbox>
                        <span class="popupInfoBox">
                          <div class="popup-info-button icon icon-xs icon-circle icon-ic-help" placement="auto"
                            [ngbTooltip]="tipContent" tooltipClass="my-custom-class" [autoClose]="false"></div>
                          <ng-template #tipContent>
                            Check this box IF this patient was provided
                            instruction or resources on self-care via any
                            mechanism (i.e word of mouth, email, digital copy,
                            pamphlet, etc).
                          </ng-template>
                        </span>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-6 col-md-6 col-12" style="padding: 7px 10px">
                        <mat-checkbox class="encounter-checkbox">Medication Reconciliation Completed</mat-checkbox>
                        <span class="popupInfoBox">
                          <div class="popup-info-button icon icon-xs icon-circle icon-ic-help" placement="top"
                            [ngbTooltip]="tipContent2" tooltipClass="my-custom-class"></div>
                          <ng-template #tipContent2>
                            Check this box IF this patient was referred to you
                            from an outside source. IF you check this box,
                            please go to the referral tab, check referred
                            from, and input the source of the referral (i.e
                            Dr. Smith DDS).
                          </ng-template>
                        </span>
                      </div>
                      <div class="col-lg-6 col-md-6 col-12">
                        <medical-code-container [codeSystems]="codeSystemsForReconcillation"
                        (optionChanged)="optionChangedForReconcillation($event)" MinTermLength="5" [showSelectedValue]="true"></medical-code-container>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-12" style="padding: 7px 10px">
                        <mat-checkbox class="encounter-checkbox">Health Information Exchange</mat-checkbox>
                        <span class="popupInfoBox">
                          <div class="popup-info-button icon icon-xs icon-circle icon-ic-help" placement="top"
                            [ngbTooltip]="tipContent3" tooltipClass="my-custom-class"></div>
                          <ng-template #tipContent3>
                            Check this box IF this patient was referred to an
                            outside source. IF you check this box, please go
                            to the referral tab, check referred to, and input
                            where/who you are referring them to (i.e Dr. Smith
                            DDS).
                          </ng-template>
                        </span>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-6 col-md-6 col-12" style="padding: 10px 15px">
                        <div class="col-12" style="padding-bottom: 10px">
                          <b class="col-12" style="font-weight: normal">Current Medications Documented</b>
                        </div>
                        <mat-radio-group class="col-12" (change)="documentationChanged($event)">
                          <mat-radio-button [value]="1" [checked]="1"></mat-radio-button>Yes
                          <mat-radio-button [value]="2"></mat-radio-button>No
                        </mat-radio-group>
                      </div>
                      <div class="col-lg-6 col-md-6 col-12">
                        <medical-code-container [codeSystems]="codeSystemsForDocumentation"
                        (optionChanged)="onDocumentedReasonChange($event)" MinTermLength="2" [showSelectedValue]="true"></medical-code-container>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-12 col-md-12" style="padding: 7px 10px">
                        <div class="row">
                          <div class="col-lg-6 col-md-6 col-12" >
                            <button class="btn col-12" [class.btn-performed-red]="encounterInfo.mu2.CurrentMedicationDocumented==2"
                            [class.btn-performed-sea-blue]="encounterInfo.mu2.CurrentMedicationDocumented==1">
                              <span *ngIf="encounterInfo.mu2.CurrentMedicationDocumented==2">Reason Not Performed </span>
                              <span *ngIf="encounterInfo.mu2.CurrentMedicationDocumented==1">Reason Performed </span>
                            </button>
                          </div>
                          <div class="col-lg-6 col-md-6 col-12">
                            <div class="row">
                              <div class="col-lg-12 col-md-6 col-12" >
                                <div class="row">
                                <div class="col-lg-6 col-md-6 col-12" style="padding: 7px 10px">
                                  <span>Encounter Code:</span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12">
                                  <mat-form-field appearance="outline" class="col-lg-12 col-12">
                                    <input matInput autocomplete="off" [(ngModel)]="encounterInfo.mu2.DocumentedCode" readonly="true" />
                                  </mat-form-field>
                                </div>
                                </div>
                                <div class="row">
                                <div class="col-lg-6 col-md-6 col-12" style="padding: 7px 10px">
                                  <span>Encounter Code Description:</span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-12 area-text">
                                  <textarea matInput  [(ngModel)]="encounterInfo.mu2.DocumentedDescription" readonly="true"></textarea>
                                </div>
                                </div>
                              </div>


                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>

            <mat-tab label="Referral">
              <div class="encounter-tab-content">
                <div class="encounter-tab-pane" id="referral_tab">
                  <div class="content">
                    <div class="row area-text">
                      <div class="col-lg-2">
                        <span>Reason for Referral:</span>
                      </div>
                      <div class="col-lg-10">
                        <textarea matInput></textarea>
                      </div>
                    </div>
                    <div class="row area-text">
                      <div class="col-lg-2">
                        <mat-checkbox class="referral-margin col-12" [(ngModal)]="encounterInfo.Referral.ReferredFrom" style="font-weight: normal">Referred from:
                        </mat-checkbox>
                      </div>
                      <div class="col-lg-4">
                        <mat-form-field appearance="outline" class="col-12">
                          <input matInput autocomplete="off" placeholder="Referred from" [(ngModel)]="encounterInfo.Referral.ReferralFrom" [disabled]="encounterInfo.Referral.ReferredFrom"/>
                        </mat-form-field>
                      </div>
                      <div class="col-lg-2">
                        <mat-checkbox class="referral-margin col-12" [(ngModal)]="encounterInfo.Referral.ReferredTo" style="font-weight: normal">Referred to:
                        </mat-checkbox>
                      </div>
                      <div class="col-lg-4">
                        <mat-form-field appearance="outline" class="col-12">
                          <input matInput autocomplete="off" placeholder="Referred to" [(ngModel)]="encounterInfo.Referral.ReferralTo"  [disabled]="encounterInfo.Referral.ReferredTo" />
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row area-text">
                      <div class="col-lg-2">
                        <span>Cognitive Status:</span>
                      </div>
                      <div class="col-lg-10">
                        <textarea matInput [(ngModel)]="encounterInfo.Referral.CongnitiveStatus" ></textarea>
                      </div>
                    </div>
                    <div class="row area-text">
                      <div class="col-lg-2">
                        <span>Functional Status:</span>
                      </div>
                      <div class="col-lg-10">
                        <textarea matInput [(ngModel)]="encounterInfo.Referral.FunctionalStatus"></textarea>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Vitals">
              <div class="encounter-tab-content">
                <div class="encounter-tab-pane" id="encounter_diagnoses_tab">
                  <div class="row content">
                    <div class="col-12">
                      <!-- <button mat-icon-button class="btn-add pull-right"
                        (click)="openComponentDialog(vitalDialogComponent,null,ActionsType.add)">
                        <mat-icon class="add-icon">add</mat-icon>
                      </button> -->
                      <button class="plusicon pull-right" (click)="openComponentDialog(vitalDialogComponent,null,ActionsType.add)" >
                        <i class="fa fa-plus addlocation mx-2"></i>
                      </button>
                    </div>
                    <div class="scrollable-mat-table">
                      <mat-table mat-table [dataSource]="vitalsInfo" id="vitals-table" class="ehr-cqm-container">
                        <ng-container matColumnDef="CollectedAt">
                          <mat-header-cell *matHeaderCellDef>Collected At</mat-header-cell>
                          <mat-cell *matCellDef="let vital">

                            {{vital.CollectedAt | date: 'M/d/yyyy hh:mm a'}}

                          </mat-cell>
                        </ng-container>


                        <ng-container matColumnDef="Height">
                          <mat-header-cell *matHeaderCellDef>Height</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.Height}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Weight">
                          <mat-header-cell *matHeaderCellDef> Weight</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.Weight}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="BMI">
                          <mat-header-cell *matHeaderCellDef>BMI</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.BMI}}
                          </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="BP">
                          <mat-header-cell *matHeaderCellDef>BP</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.BPSystolic}}/{{vital.BPDiastolic}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Temperature">
                          <mat-header-cell *matHeaderCellDef> Temperature</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.Temperature}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Pulse">
                          <mat-header-cell *matHeaderCellDef>Pulse</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.Pulse}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Respiratory_rate">
                          <mat-header-cell *matHeaderCellDef> Respiratory rate</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.RespiratoryRate}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="O2_Saturation">
                          <mat-header-cell *matHeaderCellDef>O2 Saturation</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.O2Saturation}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Blood_type">
                          <mat-header-cell *matHeaderCellDef> Blood type</mat-header-cell>
                          <mat-cell *matCellDef="let vital">
                            {{vital.BloodType}}
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Actions">
                          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                          <mat-cell *matCellDef="let vital" class="actions">
                            <button class="plusicon pull-left vital-buttons" (click)="openComponentDialog(vitalDialogComponent,vital,ActionsType.view)">
                              <mat-icon>edit</mat-icon>
                            </button>
                            <button class="plusicon pull-right vital-buttons">
                              <mat-icon>delete_forever</mat-icon>
                            </button>
                          </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="vitalsColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: vitalsColumns"></mat-row>
                      </mat-table>
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Encounter Diagnoses (Dx)">
              <ng-container *ngTemplateOutlet="encounterdiagnoses"></ng-container>
            </mat-tab>
            <mat-tab label="Procedure(s) Recommended">
              <ng-container *ngTemplateOutlet="ProceduresRecommended"></ng-container>
            </mat-tab>
            <mat-tab label="Procedure(s) Completed">
              <ng-container *ngTemplateOutlet="ProceduresCompleted"></ng-container>
            </mat-tab>
          </mat-tab-group>

          <ng-template #encounterdiagnoses>
            <div class="encounter-tab-content">
              <div class="encounter-tab-pane" id="encounter_diagnoses_tab">
                <div class="content">
                  <div class="row">
                    <div class="col-lg-3 col-md-4 col-12">
                    </div>
                    <div class="col-lg-8 col-md-8 col-12 mat-field-no-round-right">
                      <medical-code-container [codeSystems]="codeSystemsForDiagnosis"
                    (optionChanged)="optionChangedForDiagnosis($event)" [MinTermLength]="3" [showSelectedValue]="false"></medical-code-container>
                    </div>
                  </div>
                  <div class="scrollable-mat-table">
                    <mat-table mat-table [dataSource]="diagnosesInfo" id="procedure-table" class="pt-2 encounter-diagnosis-remove-sides">
                      <ng-container  matColumnDef="CODE">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">CODE</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.Code }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="CODE SYSTEM">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">CODE SYSTEM</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.CodeSystem }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="DESCRIPTION">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">DESCRIPTION</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.Description }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="PATIENT EDUCATION">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">PATIENT EDUCATION</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.PatientEdn }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="Primary DX">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">Primary DX</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <mat-checkbox class="encounter-checkbox" [(ngModel)]="item.PrimaryDx"></mat-checkbox>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="Delete">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">Delete</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item; let i = index; ">
                          <button type="button" class="btn cross-mark error-close"
                            (click)="removeEncounterDiagnosis(item,i)"
                            title="Delete recommended Procedure">x</button>
                        </mat-cell>
                      </ng-container>



                      <mat-header-row *matHeaderRowDef="encounterdiagnosesColumns"></mat-header-row>
                      <mat-row *matRowDef=" let row; let i = index; columns: encounterdiagnosesColumns"></mat-row>
                    </mat-table>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-template #ProceduresRecommended>
            <div class="encounter-tab-content">
              <div class="encounter-tab-pane" id="encounter_diagnoses_tab">
                <div class="content">
                  <div class="row">
                    <div class="col-lg-3 col-md-4 col-12">

                    </div>
                    <div class="col-lg-8 col-md-8 col-12">
                      <medical-code-container [codeSystems]="codeSystemsForProcedures"
                        (optionChanged)="onProceduresRecommended($event)" [MinTermLength]="2" [showSelectedValue]="f"> </medical-code-container>
                    </div>
                  </div>
                  <div class="scrollable-mat-table">
                    <mat-table mat-table [dataSource]="recommendedProcedures"
                      class="ehr-cqm-container pt-2 procedure-table">



                      <ng-container  matColumnDef="CODE">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">CODE</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.Code }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="CODE SYSTEM">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">CODE SYSTEM</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.CodeSystem }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="DESCRIPTION">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">DESCRIPTION</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.Description }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="TOOTH">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">TOOTH</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <mat-form-field class="teeth-form-field" appearance="outline" [ngStyle]="{'padding-bottom':'0px','width': '120px'}">
                            <mat-select class="select"  [(ngModel)]="item.ToothNo" style="width: 100px;">
                              <mat-option *ngFor="let teethno  of teethNumbers" [value]="teethno" >{{teethno}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="TOOTH SURFACE" >
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">SURFACE</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item; let i = index">
                          <!-- <mat-form-field class="teeth-surface-form-field" id="teeth-surface" appearance="outline"
                          [ngStyle]="{'padding-bottom':'0px','width': '120px','display':'flex'}">
                            <input matInput teethSurface style="width: 80px;">
                            <mat-icon pull-right>arrow_drop_down</mat-icon>
                          </mat-form-field> -->
                          <app-teeth-surface (optionValueChanged)="onToothSurfaceSelectedForRP($event,item,i)"
                          [selectedOption]="item.Surface"></app-teeth-surface>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="Delete">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">Delete</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item; let i = index;">
                          <button type="button" class="btn cross-mark error-close"
                          (click)="removeRecommendedProcedure(item,i)"
                          title="Delete recommended Procedure">x</button>
                        </mat-cell>
                      </ng-container>



                      <mat-header-row *matHeaderRowDef="procedureColumns"></mat-header-row>
                      <mat-row *matRowDef="let row; let i = index; columns: procedureColumns"></mat-row>
                    </mat-table>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-template #ProceduresCompleted>
            <div class="encounter-tab-content">
              <div class="encounter-tab-pane" id="encounter_diagnoses_tab">
                <div class="content">
                  <div class="row">
                    <div class="col-lg-3 col-md-4 col-12">

                    </div>
                    <div class="col-lg-8 col-md-8 col-12">
                      <medical-code-container [codeSystems]="codeSystemsForProcedures"
                        (optionChanged)="onProcedureCompleted($event)" [MinTermLength]="2" [showSelectedValue]="false"></medical-code-container>
                    </div>
                  </div>
                  <div class="scrollable-mat-table">
                    <mat-table mat-table [dataSource]="completedProcedures"
                      class="ehr-cqm-container pt-2 procedure-table">



                      <ng-container  matColumnDef="CODE">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">CODE</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.Code }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="CODE SYSTEM">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">CODE SYSTEM</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.CodeSystem }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="DESCRIPTION">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">DESCRIPTION</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <span>{{ item.Description }}</span>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="TOOTH">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">TOOTH</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item">
                          <mat-form-field class="teeth-form-field" appearance="outline" [ngStyle]="{'padding-bottom':'0px','width': '120px'}">
                            <mat-select class="select"  [(ngModel)]="item.ToothNo" style="width: 100px;">
                              <mat-option *ngFor="let teethno  of teethNumbers" [value]="teethno" >{{teethno}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="TOOTH SURFACE" >
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">SURFACE</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item; let i = index">
                          <!-- <mat-form-field class="teeth-surface-form-field" id="teeth-surface-complete" appearance="outline"
                          [ngStyle]="{'padding-bottom':'0px','width': '120px','display':'flex'}">
                            <input matInput teethSurface style="width: 80px;">
                            <mat-icon pull-right>arrow_drop_down</mat-icon>
                          </mat-form-field> -->
                          <app-teeth-surface (optionValueChanged)="onToothSurfaceSelectedForCP($event,item,i)"
                          [selectedOption]="item.Surface"></app-teeth-surface>
                        </mat-cell>
                      </ng-container>

                      <ng-container  matColumnDef="Delete">
                        <mat-header-cell *matHeaderCellDef>
                          <p class="text-capitalize-first">Delete</p>
                        </mat-header-cell>
                        <mat-cell *matCellDef="let item; let i = index; ">
                          <button type="button" class="btn cross-mark error-close"
                          (click)="removeCompletedProcedure(item,i)"
                          title="Delete completed Procedure">x</button>
                        </mat-cell>
                      </ng-container>
                      <mat-header-row *matHeaderRowDef="procedureColumns"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: procedureColumns"></mat-row>
                    </mat-table>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-templage #teethSurface>
            <ul class="dropdown-menu"><li>
              <ul>
                <li><a href="#" class="place-option" data-indicator="surface_buccal_v" data-drop_label="Buccal V">Surface: Buccal V</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_facial_v" data-drop_label="Facial V">Surface: Facial V</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_mesial" data-drop_label="Mesial">Surface: Mesial</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_incisal" data-drop_label="Incisal">Surface: Incisal</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_distal" data-drop_label="Distal">Surface: Distal</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_lingual" data-drop_label="Lingual">Surface: Lingual</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_facial" data-drop_label="Facial">Surface: Facial</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_buccal" data-drop_label="Buccal">Surface: Buccal</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_occlusal" data-drop_label="Occlusal">Surface: Occlusal</a></li>
                <li><a href="#" class="place-option" data-indicator="surface_lingual_v" data-drop_label="Lingual V">Surface: Lingual V</a></li>
              </ul>
              <ul>
                <li><a href="#" class="place-option" data-indicator="pit_mesiobuccal" data-drop_label="Mesiobuccal">Pit: Mesiobuccal</a></li>
                <li><a href="#" class="place-option" data-indicator="pit_mesiolingual" data-drop_label="Mesiolingual">Pit: Mesiolingual</a></li>
                <li><a href="#" class="place-option" data-indicator="pit_distobuccal" data-drop_label="Distobuccal">Pit: Distobuccal</a></li>
                <li><a href="#" class="place-option" data-indicator="pit_distolingual" data-drop_label="Distolingual">Pit: Distolingual</a></li>
              </ul>
              <ul>
                <li><a href="#" class="place-option" data-indicator="cusp_mesial" data-drop_label="Mesial">Cusp: Mesial</a></li>
                <li><a href="#" class="place-option" data-indicator="cusp_mesiobuccal" data-drop_label="Mesiobuccal">Cusp: Mesiobuccal</a></li>
                <li><a href="#" class="place-option" data-indicator="cusp_mesiolingual" data-drop_label="Mesiolingual">Cusp: Mesiolingual</a></li>
                <li><a href="#" class="place-option" data-indicator="cusp_distal" data-drop_label="Distal">Cusp: Distal</a></li>
                <li><a href="#" class="place-option" data-indicator="cusp_distobuccal" data-drop_label="Distobuccal">Cusp: Distobuccal</a></li>
                <li><a href="#" class="place-option" data-indicator="cusp_distolingual" data-drop_label="Distolingual">Cusp: Distolingual</a></li>
              </ul>
            </li>
          </ul>
          </ng-templage>



        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-green" (click)="saveAsDraft()">
          Save as Draft
        </button>
        <button type="button" class="btn btn-orange" (click)="signEncounter()">
          Sign
        </button>
        <button type="button" class="btn btn-danger " (click)="closePopup()">
          Cancel
        </button>
      </div>
    </div>

  </div>

